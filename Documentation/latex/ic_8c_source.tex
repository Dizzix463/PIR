\hypertarget{ic_8c_source}{}\doxysection{ic.\+c}
\label{ic_8c_source}\index{Nouveau PIR/firmware/source/ic.c@{Nouveau PIR/firmware/source/ic.c}}
\mbox{\hyperlink{ic_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00001}00001 \textcolor{comment}{/*****************************************************************************/}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00002}00002 \textcolor{comment}{/* Projectname     :  ENSD-\/Jammer                                            */}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00003}00003 \textcolor{comment}{/* Programm        :  Input capture                                          */}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00004}00004 \textcolor{comment}{/* Controller      :  dsPIC33F                                               */}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00005}00005 \textcolor{comment}{/* Latest change   :  31.08.2020                                             */}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00006}00006 \textcolor{comment}{/* Author          :  Gr{\ucr}goire Chabin/Christian Ringlstetter/Thomas Pichler  */}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00007}00007 \textcolor{comment}{/*****************************************************************************/}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00008}00008 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00009}00009 \textcolor{comment}{// \#\#\# Basic includes \#\#\#}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00010}00010 \textcolor{preprocessor}{    \#include "{}\mbox{\hyperlink{ic_8h}{ic.h}}"{}}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00011}00011 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00012}00012 \textcolor{comment}{// \#\#\# Functions \#\#\#}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00013}00013 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00014}00014     \textcolor{comment}{// \#\# Input capture 1 Init  ** CRK ** rising edge}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00015}\mbox{\hyperlink{ic_8h_a53a68e4445f3ff8411344013cd7d9be2}{00015}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{ic_8c_a53a68e4445f3ff8411344013cd7d9be2}{IC1Init}}(\textcolor{keywordtype}{void})\{}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00016}00016 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00017}00017         IC1CONbits.ICSIDL = 0;      \textcolor{comment}{//Input capture continues in idle mode}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00018}00018         IC1CONbits.ICTMR = 1;       \textcolor{comment}{//Input capture timer select(TMR2)}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00019}00019         IC1CONbits.ICI = 0b00;      \textcolor{comment}{//Interrupt on every capture event}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00020}00020         IC1CONbits.ICM = 0b011;     \textcolor{comment}{//Caputure mode, every rising edge}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00021}00021 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00022}00022 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00023}00023         IPC0bits.IC1IP = 0x03;      \textcolor{comment}{//Set IC1 Interrupt Priority Level}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00024}00024         IFS0bits.IC1IF = 0;         \textcolor{comment}{//Clear IC1 Interrupt Flag}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00025}00025         IEC0bits.IC1IE = 1;         \textcolor{comment}{//Enable IC1 interrupt}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00026}00026         }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00027}00027         TRISDbits.TRISD8 = 1;       \textcolor{comment}{//IC1 is input port}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00028}00028         }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00029}00029     \}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00031}00031     \textcolor{comment}{// \#\# Input capture 2 Init ** CRK ** falling edge }}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00032}\mbox{\hyperlink{ic_8h_afb52195f7f3a7c4574c1f1424815947a}{00032}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{ic_8c_afb52195f7f3a7c4574c1f1424815947a}{IC2Init}}(\textcolor{keywordtype}{void})\{}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00033}00033 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00034}00034         IC2CONbits.ICSIDL = 0;      \textcolor{comment}{//Input capture continues in idle mode}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00035}00035         IC2CONbits.ICTMR = 1;       \textcolor{comment}{//Input capture timer select (TMR2)}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00036}00036         IC2CONbits.ICI = 0b00;      \textcolor{comment}{//Interrupt on every capture event}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00037}00037         IC2CONbits.ICM = 0b010;     \textcolor{comment}{//Caputure mode, every falling edge}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00038}00038 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00039}00039 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00040}00040         IPC1bits.IC2IP = 0x03;      \textcolor{comment}{//Set IC2 Interrupt Priority Level}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00041}00041         IFS0bits.IC2IF = 0;         \textcolor{comment}{//Clear IC2 Interrupt Flag}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00042}00042         IEC0bits.IC2IE = 1;         \textcolor{comment}{//Enable IC2 interrupt}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00043}00043         }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00044}00044         TRISDbits.TRISD9 = 1;       \textcolor{comment}{//IC2 is input port}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00045}00045         }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00046}00046     \}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00047}00047 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00048}00048     \textcolor{comment}{// \#\# Input capture 2 Init  ** CAM1 ** rising edge}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00049}\mbox{\hyperlink{ic_8h_a4c9d5a019ae2c39a118e9912a5ca256c}{00049}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{ic_8c_a4c9d5a019ae2c39a118e9912a5ca256c}{IC3Init}}(\textcolor{keywordtype}{void})\{}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00050}00050         }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00051}00051         IC3CONbits.ICSIDL = 0;      \textcolor{comment}{//Input capture continues in idle mode}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00052}00052         IC3CONbits.ICTMR = 0;       \textcolor{comment}{//Input capture timer select(TMR3)}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00053}00053         IC3CONbits.ICI = 0b00;      \textcolor{comment}{//Interrupt on every capture event}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00054}00054         IC3CONbits.ICM = 0b011;     \textcolor{comment}{//Caputure mode, every rising edge}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00055}00055 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00056}00056 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00057}00057         }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00058}00058         IPC9bits.IC3IP = 0x02;      \textcolor{comment}{//Set IC3 Interrupt Priority Level}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00059}00059         IFS2bits.IC3IF = 0;         \textcolor{comment}{//Clear IC3 Interrupt Flag}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00060}00060         IEC2bits.IC3IE = 1;         \textcolor{comment}{//Enable IC3 interrupt}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00061}00061 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00062}00062         TRISDbits.TRISD10 = 1;      \textcolor{comment}{//IC3 is input port}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00063}00063         }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00064}00064 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00065}00065     \}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00066}00066 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00067}00067     \textcolor{comment}{// \#\# Input capture 4 Init ** CAM1 ** falling edge }}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00068}\mbox{\hyperlink{ic_8h_a43c36affbe370a850335365d6e8dd4e2}{00068}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{ic_8c_a43c36affbe370a850335365d6e8dd4e2}{IC4Init}}(\textcolor{keywordtype}{void})\{}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00069}00069 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00070}00070         IC4CONbits.ICSIDL = 0;      \textcolor{comment}{//Input capture continues in idle mode}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00071}00071         IC4CONbits.ICTMR = 0;       \textcolor{comment}{//Input capture timer select (TMR3)}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00072}00072         IC4CONbits.ICI = 0b00;      \textcolor{comment}{//Interrupt on every capture event}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00073}00073         IC4CONbits.ICM = 0b010;     \textcolor{comment}{//Caputure mode, every falling edge}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00074}00074 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00075}00075 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00076}00076         IPC9bits.IC4IP = 0x02;      \textcolor{comment}{//Set IC4 Interrupt Priority Level}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00077}00077         IFS2bits.IC4IF = 0;         \textcolor{comment}{//Clear IC4 Interrupt Flag}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00078}00078         IEC2bits.IC4IE = 1;         \textcolor{comment}{//Enable IC4 interrupt}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00079}00079         }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00080}00080         TRISDbits.TRISD11 = 1;      \textcolor{comment}{//IC4 is input port}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00081}00081         }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00082}00082     \}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00083}00083     }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00084}00084     \textcolor{comment}{// \#\# Input capture 5 Init ** CAM2 ** rising edge }}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00085}\mbox{\hyperlink{ic_8h_aa7e16edfb2efdeab94d361a9d8aedab2}{00085}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{ic_8c_aa7e16edfb2efdeab94d361a9d8aedab2}{IC5Init}}(\textcolor{keywordtype}{void})\{}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00086}00086 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00087}00087         IC5CONbits.ICSIDL = 0;      \textcolor{comment}{//Input capture continues in idle mode}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00088}00088         IC5CONbits.ICTMR = 0;       \textcolor{comment}{//Input capture timer select (TMR3)}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00089}00089         IC5CONbits.ICI = 0b00;      \textcolor{comment}{//Interrupt on every capture event}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00090}00090         IC5CONbits.ICM = 0b011;     \textcolor{comment}{//Caputure mode, every rising edge}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00091}00091 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00092}00092 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00093}00093         IPC9bits.IC5IP = 0x02;      \textcolor{comment}{//Set IC5 Interrupt Priority Level}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00094}00094         IFS2bits.IC5IF = 0;         \textcolor{comment}{//Clear IC5 Interrupt Flag}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00095}00095         IEC2bits.IC5IE = 1;         \textcolor{comment}{//Enable IC5 interrupt}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00096}00096         }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00097}00097         TRISDbits.TRISD12 = 1;      \textcolor{comment}{//IC5 is input port}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00098}00098         }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00099}00099     \}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00100}00100 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00101}00101     \textcolor{comment}{// \#\# Input capture 6 Init ** CAM2 ** falling edge }}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00102}\mbox{\hyperlink{ic_8h_a5423ca0f7568c9cdc487f6ac0f9d3066}{00102}}     \textcolor{keywordtype}{void} \mbox{\hyperlink{ic_8c_a5423ca0f7568c9cdc487f6ac0f9d3066}{IC6Init}}(\textcolor{keywordtype}{void})\{}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00103}00103 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00104}00104         IC6CONbits.ICSIDL = 0;      \textcolor{comment}{//Input capture continues in idle mode}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00105}00105         IC6CONbits.ICTMR = 0;       \textcolor{comment}{//Input capture timer select (TMR3)}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00106}00106         IC6CONbits.ICI = 0b00;      \textcolor{comment}{//Interrupt on every capture event}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00107}00107         IC6CONbits.ICM = 0b010;     \textcolor{comment}{//Caputure mode, every falling edge}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00108}00108 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00109}00109 }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00110}00110         IPC10bits.IC6IP = 0x02;     \textcolor{comment}{//Set IC6 Interrupt Priority Level}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00111}00111         IFS2bits.IC6IF = 0;         \textcolor{comment}{//Clear IC6 Interrupt Flag}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00112}00112         IEC2bits.IC6IE = 1;         \textcolor{comment}{//Enable IC6 interrupt}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00113}00113         }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00114}00114         TRISDbits.TRISD13 = 1;      \textcolor{comment}{//IC6 is input port}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00115}00115         }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00116}00116     \}    }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00117}00117     }
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00118}00118 \textcolor{comment}{/*****************************************************************************/}}
\DoxyCodeLine{\Hypertarget{ic_8c_source_l00119}00119 \textcolor{comment}{/*****************************************************************************/}}

\end{DoxyCode}

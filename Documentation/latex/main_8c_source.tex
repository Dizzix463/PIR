\hypertarget{main_8c_source}{}\doxysection{main.\+c}
\label{main_8c_source}\index{Nouveau PIR/firmware/source/main.c@{Nouveau PIR/firmware/source/main.c}}
\mbox{\hyperlink{main_8c}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00001}00001 \textcolor{comment}{/*****************************************************************************/}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00002}00002 \textcolor{comment}{/* Projectname     :  ENSD-\/Jammer                                            */}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00003}00003 \textcolor{comment}{/* Programm        :  Main                                                   */}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00004}00004 \textcolor{comment}{/* Controller      :  dsPIC33F                                               */}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00005}00005 \textcolor{comment}{/* Latest change   :  31.08.2020                                             */}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00006}00006 \textcolor{comment}{/* Author          :  Gr{\ucr}goire Chabin/Christian Ringlstetter/Thomas Pichler  */}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00007}00007 \textcolor{comment}{/*****************************************************************************/}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00008}00008 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00009}00009 \textcolor{comment}{// \#\#\# Basic includes \#\#\#}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00010}00010 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{config_8h}{config.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00011}00011 \textcolor{preprocessor}{\#include "{}stdbool.h"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00012}00012 \textcolor{preprocessor}{\#include "{}stdlib.h"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00013}00013 \textcolor{preprocessor}{\#include "{}stm32f10x.h"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00014}00014 \textcolor{preprocessor}{\#include "{}stm32f10x\_gpio.h"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00015}00015 \textcolor{preprocessor}{\#include "{}stm32f10x\_tim.h"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00016}00016 \textcolor{preprocessor}{\#include "{}stm32f10x\_usart.h"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00017}00017 \textcolor{preprocessor}{\#include "{}string.h"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00018}00018 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00019}00019 \textcolor{comment}{// \#\#\# Programm includes \#\#\#}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00020}00020 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{failures_8h}{failures.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00021}00021 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{ic_8h}{ic.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00022}00022 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{osc_8h}{osc.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00023}00023 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{port__config_8h}{port\_config.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00024}00024 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{synchronization_8h}{synchronization.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00025}00025 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{system__configuration_8h}{system\_configuration.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00026}00026 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{timer_8h}{timer.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00027}00027 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{uart_8h}{uart.h}}"{}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00028}00028 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00029}00029 \textcolor{comment}{// \#\#\# Definitions \#\#\#}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00030}00030 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00031}00031 \textcolor{comment}{//** CAM\_delay **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00032}\mbox{\hyperlink{main_8c_a8a8f99f059be11a4eb89c4fbf6d673d6}{00032}} \textcolor{preprocessor}{\#define edges\_beetween\_shift\_CAM\_delay\_definition 6}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00033}00033 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00034}00034 \textcolor{comment}{// \#\#\# Globas variables \#\#\#}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00035}00035 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00036}00036 \textcolor{comment}{//***************** CRK ********************}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00037}00037 \textcolor{comment}{//** User config **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00038}\mbox{\hyperlink{failures_8c_afe64a7b02b07021acd3f4e7d30195fe2}{00038}} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_afe64a7b02b07021acd3f4e7d30195fe2}{number\_teeth\_CRK}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00039}\mbox{\hyperlink{failures_8c_ac953f0c0d545347b98a28a5f7e1ea15c}{00039}} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_ac953f0c0d545347b98a28a5f7e1ea15c}{number\_miss\_teeth}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00040}\mbox{\hyperlink{failures_8c_af9b6adca0c1aa5a6ba1da07c6f4e1588}{00040}} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_af9b6adca0c1aa5a6ba1da07c6f4e1588}{number\_gap}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00041}\mbox{\hyperlink{failures_8c_a2522b63ff5828da052d1c8b3ee9c157c}{00041}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_a2522b63ff5828da052d1c8b3ee9c157c}{tdc\_to\_gap}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00042}\mbox{\hyperlink{failures_8c_a30aee154f6067d411dbf4839fdc3cc93}{00042}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_a30aee154f6067d411dbf4839fdc3cc93}{first\_seg\_angle}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00043}\mbox{\hyperlink{main_8c_ac5798e2b7f5cad74f09b07e527613982}{00043}} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_ac5798e2b7f5cad74f09b07e527613982}{number\_cylinder}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00044}\mbox{\hyperlink{failures_8c_a912fe456cc42c18b47eae6de3e35c4f8}{00044}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a912fe456cc42c18b47eae6de3e35c4f8}{first\_seg\_start\_tooth}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00045}\mbox{\hyperlink{main_8c_a85515a5ec371da776aeb2590d88bd83c}{00045}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_a85515a5ec371da776aeb2590d88bd83c}{gap\_ratio\_CRK\_DET}} = 0; \textcolor{comment}{// Typical Value for C\_CRK\_GAP\_DET = 1.375}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00046}00046 \textcolor{comment}{// Gap ratio CRK for Gap Validation}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00047}\mbox{\hyperlink{main_8c_a61002eb84b7c4ab04392f09c08cb267c}{00047}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_a61002eb84b7c4ab04392f09c08cb267c}{gap\_ratio\_CRK\_VLD}} = 0; \textcolor{comment}{// Typical Value for C\_CRK\_GAP\_VLD = 3}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00048}\mbox{\hyperlink{main_8c_a12faccd7c42eaf3bc1d085640a5b0286}{00048}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_a12faccd7c42eaf3bc1d085640a5b0286}{sensortype\_CRK}};          \textcolor{comment}{// c = CPDD  h = hall sensor}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00049}00049 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00050}00050 \textcolor{comment}{//** Calculation variables **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00051}\mbox{\hyperlink{main_8c_afd691aae0f70e937a4dd458841dde240}{00051}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{main_8c_afd691aae0f70e937a4dd458841dde240}{T\_TOOTH\_RAW\_2}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00052}\mbox{\hyperlink{main_8c_a9f76f4b71c284d9db477aac802286bcc}{00052}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{main_8c_a9f76f4b71c284d9db477aac802286bcc}{T\_TOOTH\_RAW\_1}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00053}\mbox{\hyperlink{failures_8c_a8bc6e99e5b5b1814027ef2f4c2524e8f}{00053}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{main_8c_a8bc6e99e5b5b1814027ef2f4c2524e8f}{T\_TOOTH\_RAW}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00054}\mbox{\hyperlink{main_8c_a118723accaf1b99cbcfbd76126114cf9}{00054}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{main_8c_a118723accaf1b99cbcfbd76126114cf9}{T\_TOOTH\_RAW\_2\_old}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00055}\mbox{\hyperlink{main_8c_a2cd636564c8794f7d2aeae0cd22c1ffa}{00055}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{main_8c_a2cd636564c8794f7d2aeae0cd22c1ffa}{T\_TOOTH\_RAW\_1\_old}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00056}\mbox{\hyperlink{main_8c_a568c3e1a82c83ec6dcc955066df8c932}{00056}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{main_8c_a568c3e1a82c83ec6dcc955066df8c932}{T\_TOOTH\_RAW\_old}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00057}\mbox{\hyperlink{main_8c_a1ff4d3545237dd73fc8c3022922e48c2}{00057}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{main_8c_a1ff4d3545237dd73fc8c3022922e48c2}{low\_time\_CRK}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00058}\mbox{\hyperlink{failures_8c_aa697468758fbf1b546cd67c827d8dd84}{00058}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{main_8c_aa697468758fbf1b546cd67c827d8dd84}{timer\_overflow\_CRK}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00059}\mbox{\hyperlink{failures_8c_ab187efc17c279156d2fbe40791bd1182}{00059}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_ab187efc17c279156d2fbe40791bd1182}{teeth\_count\_CRK}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00060}\mbox{\hyperlink{failures_8c_ac15826e516583ca9efd204606ba7083c}{00060}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_ac15826e516583ca9efd204606ba7083c}{teeth\_count\_CAM\_CRK\_synch}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00061}\mbox{\hyperlink{failures_8c_a4bbd4ffdc69f028b74e8af0c54dd9ee0}{00061}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a4bbd4ffdc69f028b74e8af0c54dd9ee0}{teeth\_count\_CAM\_CRK\_synch\_ahead}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00062}\mbox{\hyperlink{failures_8c_ab040cae3d9ae46728a9af9db655c014e}{00062}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_ab040cae3d9ae46728a9af9db655c014e}{number\_real\_teeth}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00063}\mbox{\hyperlink{failures_8c_a05e75142d685997ef05acf36e45a356a}{00063}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a05e75142d685997ef05acf36e45a356a}{number\_teeth\_between\_gaps}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00064}\mbox{\hyperlink{main_8c_a26d6e169e9653b1993e992cff06397fb}{00064}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a26d6e169e9653b1993e992cff06397fb}{delay\_counter\_CRK}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00065}\mbox{\hyperlink{main_8c_a8ce3b19a6074670b7a7b7f732c87a3a1}{00065}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a8ce3b19a6074670b7a7b7f732c87a3a1}{segment\_counter\_CRK}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00066}\mbox{\hyperlink{failures_8c_a896b3f467a176975dc687f95f1a1367e}{00066}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a896b3f467a176975dc687f95f1a1367e}{number\_segments\_CRK}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00067}\mbox{\hyperlink{main_8c_ace219fbc9fdee5cfbd6a2cff4784e4bc}{00067}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_ace219fbc9fdee5cfbd6a2cff4784e4bc}{shift\_counter\_CRK}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00068}\mbox{\hyperlink{main_8c_a26d8a4c954e505bb7d333d55f001e3cd}{00068}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a26d8a4c954e505bb7d333d55f001e3cd}{start\_delay}} = 100;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00069}\mbox{\hyperlink{main_8c_ae97ec3b5829cdcf6527423f2a9cd4dcc}{00069}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_ae97ec3b5829cdcf6527423f2a9cd4dcc}{engine\_start\_counter}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00070}\mbox{\hyperlink{main_8c_aacb88e3d6fd3944b240b4439e81c96ae}{00070}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_aacb88e3d6fd3944b240b4439e81c96ae}{engine\_start\_counter\_limit}} = 2;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00071}\mbox{\hyperlink{failures_8c_af3c32be62d5f2307cc01a316c01ba3dc}{00071}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_af3c32be62d5f2307cc01a316c01ba3dc}{revolution\_CRK}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00072}\mbox{\hyperlink{failures_8c_a7727b0a0a81b3a64c19a0e84fd498c5b}{00072}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a7727b0a0a81b3a64c19a0e84fd498c5b}{CRK\_synch}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00073}\mbox{\hyperlink{main_8c_a00fe94a04e331cc5cdc95a8073c1ecb3}{00073}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a00fe94a04e331cc5cdc95a8073c1ecb3}{CRK\_synch\_temp}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00074}\mbox{\hyperlink{main_8c_afb93846f1625d0d5cf6d531524e9fbb3}{00074}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_afb93846f1625d0d5cf6d531524e9fbb3}{delay\_off}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00075}\mbox{\hyperlink{failures_8c_a66d1dc17c3815ec543259ff6cd358896}{00075}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a66d1dc17c3815ec543259ff6cd358896}{CRK\_signal}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00076}\mbox{\hyperlink{main_8c_acd78757977e1e4a37661d2abf4d0e274}{00076}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_acd78757977e1e4a37661d2abf4d0e274}{CRK\_config}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00077}\mbox{\hyperlink{failures_8c_a7aeb1a0c2ff915edcc0973978f0dc21c}{00077}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a7aeb1a0c2ff915edcc0973978f0dc21c}{engine\_start}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00078}\mbox{\hyperlink{main_8c_a668b8400da7191cbf0928fdf21a9ae94}{00078}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a668b8400da7191cbf0928fdf21a9ae94}{synch\_times\_valid}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00079}00079 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00080}00080 \textcolor{comment}{//***************** CAM ********************}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00081}00081 \textcolor{comment}{//** User config **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00082}\mbox{\hyperlink{main_8c_a3d1c16f7b67a7b889ff09efcf7651345}{00082}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a3d1c16f7b67a7b889ff09efcf7651345}{number\_active\_edges\_CAM}}[2];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00083}\mbox{\hyperlink{failures_8c_aaca9f30a09d8f0badb85553cb2f4a225}{00083}} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a9cf1c6135c61ae4be9df725537b3d7e3}{number\_teeth\_CAM}}[2] = \{0, 0\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00084}\mbox{\hyperlink{failures_8c_ae78fc7b1baf9c329b60166be6b88b85c}{00084}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_ae78fc7b1baf9c329b60166be6b88b85c}{filter\_time\_CAM}}[2];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00085}\mbox{\hyperlink{main_8c_a77550eb84997c4bf1f3f258b305cb07b}{00085}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_a77550eb84997c4bf1f3f258b305cb07b}{CAM\_edges}}[2][24];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00086}\mbox{\hyperlink{main_8c_a5f76355a7410c0f9ba6f2685976f7789}{00086}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_a5f76355a7410c0f9ba6f2685976f7789}{distance\_gap\_to\_CAM\_edge}}[2][24];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00087}\mbox{\hyperlink{main_8c_a4acf9cde9660862148d0a73f10984ced}{00087}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_a4acf9cde9660862148d0a73f10984ced}{first\_edge\_to\_tdc0}}[2] = \{0, 0\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00088}\mbox{\hyperlink{failures_8c_a1ab47ef12d9fd5a0a0c37354af662f7d}{00088}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_a1ab47ef12d9fd5a0a0c37354af662f7d}{active\_CAM\_edges}}[2]; \textcolor{comment}{// f: falling; r: rising; b: both}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00089}\mbox{\hyperlink{main_8c_a9c555c5cacf96afd9cc8ec7d39cecf38}{00089}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_a9c555c5cacf96afd9cc8ec7d39cecf38}{sensortype\_CAM}}[2];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00090}\mbox{\hyperlink{main_8c_a8b96e45eeb664a177dede0e498910a1b}{00090}} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a8b96e45eeb664a177dede0e498910a1b}{number\_of\_CAM}} = 1;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00091}\mbox{\hyperlink{main_8c_a02b199f14e7143121536a08abae33788}{00091}} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a02b199f14e7143121536a08abae33788}{cam\_setup\_counter}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00092}00092 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00093}00093 \textcolor{comment}{//***************** CAM/CRK -\/ configuration completion and output port setting ********************}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00094}\mbox{\hyperlink{main_8c_af2b1f70badf370b8c61316f5dcefaf26}{00094}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_af2b1f70badf370b8c61316f5dcefaf26}{configuration\_complete}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00095}\mbox{\hyperlink{main_8c_a26f49697b8275c1863e0716a3c236480}{00095}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a26f49697b8275c1863e0716a3c236480}{output\_level\_setting}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00096}00096 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00097}00097 \textcolor{comment}{//***************** CAM/CRK ****************}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00098}00098 \textcolor{comment}{//** Calculation variables **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00099}\mbox{\hyperlink{main_8c_af63272d2518e2577d29c0d278b3fa48e}{00099}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{main_8c_af63272d2518e2577d29c0d278b3fa48e}{timer\_overflow\_CAM}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00100}\mbox{\hyperlink{main_8c_a3bebca3239ddb07b8d20d917bf0974a0}{00100}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{main_8c_a3bebca3239ddb07b8d20d917bf0974a0}{segment\_time\_CAM}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00101}\mbox{\hyperlink{main_8c_ad34a843c27ea985d626a403d5dfd10ad}{00101}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_ad34a843c27ea985d626a403d5dfd10ad}{edge\_count\_CAM}}[2] = \{0, 0\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00102}\mbox{\hyperlink{main_8c_ab0618b4a58fae08ae9d00346c60ec496}{00102}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_ab0618b4a58fae08ae9d00346c60ec496}{edge\_validation\_counter\_CAM}}[2] = \{0, 0\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00103}\mbox{\hyperlink{main_8c_afd23d6c84f8e20fca289ed0ee8715187}{00103}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_afd23d6c84f8e20fca289ed0ee8715187}{edge\_position\_counter\_CAM}}[2] = \{0, 0\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00104}\mbox{\hyperlink{main_8c_a65576eb16b6e54d275a167327bea7fb9}{00104}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a65576eb16b6e54d275a167327bea7fb9}{former\_edge\_position\_CAM}}[2] = \{0, 0\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00105}\mbox{\hyperlink{main_8c_a482c739ea6583c79139c1dda964b8934}{00105}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a482c739ea6583c79139c1dda964b8934}{edge\_validation\_counter\_CAM\_ahead}}[2] = \{0, 0\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00106}\mbox{\hyperlink{main_8c_a7143d1e41fd86e9f122d9c66be0b1d67}{00106}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a7143d1e41fd86e9f122d9c66be0b1d67}{edge\_position\_counter\_CAM\_ahead}}[2] = \{0, 0\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00107}\mbox{\hyperlink{main_8c_ac49275c6b1fdb8331b6a85ded17ef302}{00107}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_ac49275c6b1fdb8331b6a85ded17ef302}{former\_edge\_position\_CAM\_ahead}}[2] = \{0, 0\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00108}\mbox{\hyperlink{main_8c_ae8d79e34d9069c4d224e083290a85e6e}{00108}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_ae8d79e34d9069c4d224e083290a85e6e}{gap\_to\_edge}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00109}\mbox{\hyperlink{main_8c_a250f7761f51a2a07568fc906f8d43095}{00109}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_a250f7761f51a2a07568fc906f8d43095}{gap\_to\_edge\_ahead}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00110}\mbox{\hyperlink{main_8c_a9f65b0d3142356fc10814e114939a72a}{00110}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_a9f65b0d3142356fc10814e114939a72a}{gap\_to\_first\_edge}}[2] = \{0, 0\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00111}\mbox{\hyperlink{main_8c_a751e5904b3aa52cdffadc6ea4686d41f}{00111}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_a751e5904b3aa52cdffadc6ea4686d41f}{gap\_to\_first\_edge\_difference}}[2] = \{0, 0\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00112}\mbox{\hyperlink{main_8c_a4433116b526521b3810d1671c1b9a96a}{00112}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_a4433116b526521b3810d1671c1b9a96a}{tolerance\_window\_CAM}}[2];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00113}\mbox{\hyperlink{main_8c_a8c4796f2e612fca802312c2226fcdec8}{00113}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a8c4796f2e612fca802312c2226fcdec8}{CAM\_tolerance\_switch}}[2] = \{\textcolor{keyword}{false}, \textcolor{keyword}{false}\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00114}\mbox{\hyperlink{main_8c_a6c2d1f9afb9e34026dc2a85e0d7fa1e3}{00114}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a6c2d1f9afb9e34026dc2a85e0d7fa1e3}{CAM\_CRK\_synch\_status}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00115}\mbox{\hyperlink{main_8c_a03c0f18a6302f4a413c98919beedd057}{00115}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a03c0f18a6302f4a413c98919beedd057}{CAM\_CRK\_synch\_status\_ahead}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00116}\mbox{\hyperlink{failures_8c_a734dd27ee07083ae6985cc7e642de6e7}{00116}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a734dd27ee07083ae6985cc7e642de6e7}{CAM\_CRK\_synch\_ahead}}[2] = \{\textcolor{keyword}{false}, \textcolor{keyword}{false}\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00117}\mbox{\hyperlink{failures_8c_a4846863c93975e5d88fbd9b4ecc57d20}{00117}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a4846863c93975e5d88fbd9b4ecc57d20}{CAM\_signal}}[2] = \{\textcolor{keyword}{false}, \textcolor{keyword}{false}\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00118}\mbox{\hyperlink{failures_8c_af965503ff7c7adb887f502384215a402}{00118}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a04da1dd6d4836425ca52d3b1696ec1a5}{CRK\_CAM\_synch}}[2] = \{\textcolor{keyword}{false}, \textcolor{keyword}{false}\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00119}\mbox{\hyperlink{main_8c_a7809eb20331648930f7a85897de70a88}{00119}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a7809eb20331648930f7a85897de70a88}{CAM\_config}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00120}\mbox{\hyperlink{failures_8c_a9979f80ab833421bad2e664b9f7d91d4}{00120}} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a9979f80ab833421bad2e664b9f7d91d4}{teeth\_count\_overall}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00121}00121 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00122}00122 \textcolor{comment}{//***************** Communication validation ************}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00123}\mbox{\hyperlink{main_8c_a44944c4febc3ff25dd242a52b1b42226}{00123}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a44944c4febc3ff25dd242a52b1b42226}{communication\_active}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00124}\mbox{\hyperlink{main_8c_a6d78a853f38c5aa69102c7cb757623cb}{00124}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a6d78a853f38c5aa69102c7cb757623cb}{communication\_ready}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00125}\mbox{\hyperlink{main_8c_add696ba7a8f31a196fc34ea5afdeb48d}{00125}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_add696ba7a8f31a196fc34ea5afdeb48d}{communication\_validation}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00126}00126 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00127}00127 \textcolor{comment}{//********** Failure treatment **************}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00128}\mbox{\hyperlink{failures_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{00128}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} = \textcolor{charliteral}{'0'};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00129}00129 \textcolor{comment}{// 0: No failure}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00130}00130 \textcolor{comment}{// 1: CRK\_NO\_SIG}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00131}00131 \textcolor{comment}{// 2: CAM\_NO\_SIG}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00132}00132 \textcolor{comment}{// 3: CAM/CRK\_NO\_SIG}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00133}00133 \textcolor{comment}{// 4: CRK\_RUN\_OUT}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00134}00134 \textcolor{comment}{// 5: CAM\_PER}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00135}00135 \textcolor{comment}{// 6: CRK\_TOOTH\_PER}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00136}00136 \textcolor{comment}{// 7: CAM\_TOOTH\_OFF}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00137}00137 \textcolor{comment}{// 8: CAM\_SYN}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00138}00138 \textcolor{comment}{// 9: CAM\_SYN\_CRK}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00139}00139 \textcolor{comment}{// a: CAM\_REF\_CRK}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00140}00140 \textcolor{comment}{// b: CRK\_SHO\_LEVEL}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00141}00141 \textcolor{comment}{// f: CRK\_TOOTH\_NR}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00142}00142 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00143}\mbox{\hyperlink{failures_8c_a98358735d6113042210027fe829762de}{00143}} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a98358735d6113042210027fe829762de}{active\_cam\_failure}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00144}00144 \textcolor{comment}{// 0: Failur is active on CAM1}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00145}00145 \textcolor{comment}{// 1: Failur is active on CAM2}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00146}00146 \textcolor{comment}{// 2: Failur is active on CAM1 and CAM2}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00147}00147 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00148}00148 \textcolor{comment}{//** Labels indicating failure status **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00149}\mbox{\hyperlink{failures_8c_aa009bc0b69bbb38154e60d1428ffc33c}{00149}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_aa009bc0b69bbb38154e60d1428ffc33c}{failure\_active}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00150}\mbox{\hyperlink{failures_8c_ae1dbfa52ababd302f93dbe4fd0620f8f}{00150}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_ae1dbfa52ababd302f93dbe4fd0620f8f}{failure\_active\_CAM\_blank\_out}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00151}\mbox{\hyperlink{failures_8c_a9efd1f4caf11e1037604fb6f4b42ed31}{00151}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a9efd1f4caf11e1037604fb6f4b42ed31}{failure\_set}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00152}\mbox{\hyperlink{failures_8c_a36381716e95bbb3090a24ba5260bf35d}{00152}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a36381716e95bbb3090a24ba5260bf35d}{failure\_passed}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00153}\mbox{\hyperlink{failures_8c_ae1abad2ed2b92b6b82254dc4debca57a}{00153}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_ae1abad2ed2b92b6b82254dc4debca57a}{failure\_waiting}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00154}00154 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00155}00155 \textcolor{comment}{//** Labels indicating failure configuration status response to user interface **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00156}\mbox{\hyperlink{main_8c_a155fe01f33d7c7c624afc3ac935b2523}{00156}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a155fe01f33d7c7c624afc3ac935b2523}{failure\_configured}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00157}\mbox{\hyperlink{main_8c_a22003ec99e75d7fde10d70c9e5ba1c7b}{00157}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a22003ec99e75d7fde10d70c9e5ba1c7b}{failure\_configured\_CAM\_blank\_out}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00158}00158 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00159}00159 \textcolor{comment}{//** Timer overflow values for CRK and CAM -\/ failures}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00160}\mbox{\hyperlink{failures_8c_ab2fec6547dc914b855112ea2d069e652}{00160}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{main_8c_ab2fec6547dc914b855112ea2d069e652}{timer\_overflow\_CRK\_failure}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00161}\mbox{\hyperlink{failures_8c_aa7f0f8e777321cf47da5f0dd59c5be94}{00161}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{main_8c_aa7f0f8e777321cf47da5f0dd59c5be94}{timer\_overflow\_CAM\_failure}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00162}\mbox{\hyperlink{failures_8c_a7ccd9723b2e11820cc395d0b16931872}{00162}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{main_8c_a7ccd9723b2e11820cc395d0b16931872}{timer\_overflow\_CAM\_REF\_CRK}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00163}00163 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00164}00164 \textcolor{comment}{//** CRK\_RUN\_OUT **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00165}\mbox{\hyperlink{failures_8c_ad09cc41f983fa5c4f93b335e55684b81}{00165}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_ad09cc41f983fa5c4f93b335e55684b81}{sc\_type\_CRK\_RUN\_OUT}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00166}\mbox{\hyperlink{failures_8c_a39121f24b916d4e2ea6e7f897bafe4a8}{00166}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a39121f24b916d4e2ea6e7f897bafe4a8}{teeth\_counter\_CRK\_RUN\_OUT}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00167}\mbox{\hyperlink{failures_8c_a706090098ba2e12ba5bd608552f126d5}{00167}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a706090098ba2e12ba5bd608552f126d5}{angle\_to\_start\_failure\_CRK\_RUN\_OUT}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00168}\mbox{\hyperlink{failures_8c_ad90c6afa3ef6d8897b04b50f9161bd3a}{00168}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_ad90c6afa3ef6d8897b04b50f9161bd3a}{failure\_period\_CRK\_RUN\_OUT}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00169}\mbox{\hyperlink{failures_8c_aeab62b1deec35fe68ca4b720e3435984}{00169}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_aeab62b1deec35fe68ca4b720e3435984}{counter\_TDC0}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00170}\mbox{\hyperlink{failures_8c_ac6eafc14bbf628d09f0aea91c943dc44}{00170}} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_ac6eafc14bbf628d09f0aea91c943dc44}{period\_counter\_CRK\_RUN\_OUT}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00171}\mbox{\hyperlink{failures_8c_a8156941efe0dcd826307b446f3ef48f1}{00171}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_a8156941efe0dcd826307b446f3ef48f1}{difference\_to\_edge\_TDC0}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00172}\mbox{\hyperlink{failures_8c_a89493411d9fa567844ffb6a621d46967}{00172}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_a89493411d9fa567844ffb6a621d46967}{difference\_to\_edge\_failure\_start}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00173}\mbox{\hyperlink{failures_8c_af75c8735a41240c5a884f5024743c4c2}{00173}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_af75c8735a41240c5a884f5024743c4c2}{detected\_TDC0}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00174}\mbox{\hyperlink{failures_8c_a15ef7a57549da0cf7802f16dbd26487f}{00174}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a15ef7a57549da0cf7802f16dbd26487f}{TDC\_on\_edge}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00175}\mbox{\hyperlink{failures_8c_a77556040fb54d335bacaf15336a82d29}{00175}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a77556040fb54d335bacaf15336a82d29}{counter\_ready}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00176}\mbox{\hyperlink{failures_8c_a5deea399d9689d2e2e0b3b3831462c5d}{00176}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a5deea399d9689d2e2e0b3b3831462c5d}{counter\_reset}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00177}00177 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00178}00178 \textcolor{comment}{//** CAM\_PER **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00179}\mbox{\hyperlink{failures_8c_aaa021fc02b2a585f7a62ec97bbee6d5e}{00179}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_aaa021fc02b2a585f7a62ec97bbee6d5e}{counter\_CAM\_PER}}[2] = \{0, 0\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00180}\mbox{\hyperlink{failures_8c_a70548cc19cb8197d69bde4da728a470a}{00180}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a70548cc19cb8197d69bde4da728a470a}{number\_edges\_CAM\_PER}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00181}\mbox{\hyperlink{main_8c_a2b533334c698857cb6a0c8eb0bc184d6}{00181}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_a2b533334c698857cb6a0c8eb0bc184d6}{filter\_time\_CAM\_PER}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00182}\mbox{\hyperlink{failures_8c_aa62fd33093aac3979c77d8ac47195785}{00182}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_aa62fd33093aac3979c77d8ac47195785}{microsecond\_per\_timer\_tick\_CAM\_PER\_\_CRK\_TOOTH\_PER}} = 0.217;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00183}\mbox{\hyperlink{failures_8c_a5107102b653d5cd439b1f861bd600f14}{00183}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a5107102b653d5cd439b1f861bd600f14}{all\_active\_edges\_CAM\_PER}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00184}\mbox{\hyperlink{failures_8c_a1aeabc5ac5f6b29223d857aceb659320}{00184}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_a1aeabc5ac5f6b29223d857aceb659320}{active\_edges\_CAM\_PER}}; \textcolor{comment}{// f: falling; r: rising; b: both}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00185}00185 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00186}00186 \textcolor{comment}{//** CRK\_TOOTH\_PER **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00187}\mbox{\hyperlink{failures_8c_aa92e684341d20dd78cbbf8a8d98b1899}{00187}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_aa92e684341d20dd78cbbf8a8d98b1899}{start\_tooth\_CRK\_TOOTH\_PER}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00188}\mbox{\hyperlink{failures_8c_a6d79ff75c0424017b90b2039f2f5aeaa}{00188}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a6d79ff75c0424017b90b2039f2f5aeaa}{number\_pulses\_CRK\_TOOTH\_PER}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00189}\mbox{\hyperlink{failures_8c_a658a74de9ab44e3ad4b459d557dac9d7}{00189}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a658a74de9ab44e3ad4b459d557dac9d7}{engine\_revolutions\_CRK\_TOOTH\_PER}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00190}\mbox{\hyperlink{failures_8c_a2068dfcf9f70475272677ad2446d6cdf}{00190}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a2068dfcf9f70475272677ad2446d6cdf}{teeth\_counter\_CRK\_TOOTH\_PER}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00191}\mbox{\hyperlink{failures_8c_ae00db4a9603885a19a44080bdb2331d9}{00191}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_ae00db4a9603885a19a44080bdb2331d9}{revolution\_counter\_CRK\_TOOTH\_PER}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00192}\mbox{\hyperlink{failures_8c_a0241a57f40777392b40aebc8ea433d2c}{00192}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_a0241a57f40777392b40aebc8ea433d2c}{calculation\_factor\_CRK\_TOOTH\_PER}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00193}00193 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00194}00194 \textcolor{comment}{//** CAM\_DELAY(CAM\_TOOTH\_OFF / CAM\_REF\_CRK / CAM\_SYN / CAM\_SYN\_CRK) **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00195}\mbox{\hyperlink{failures_8c_ab28b6d5505e18cd397139cfa75aa3912}{00195}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_ab28b6d5505e18cd397139cfa75aa3912}{number\_processing\_edges\_CAM\_delay}}[2] = \{0, 0\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00196}\mbox{\hyperlink{failures_8c_aeb8d44ce914f7ffc964e78ab44c14735}{00196}} \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a8468b6f06553d05bc83fddf395f376b2}{edges\_beetween\_shift\_CAM\_delay}} = 6;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00197}\mbox{\hyperlink{failures_8c_ae9953e9e08afe49f7e2a4b4daee5332b}{00197}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_aa52be318f3219c8b3c92b5a843f548b3}{shift\_counter\_CAM\_delay}}[2][\mbox{\hyperlink{main_8c_a8a8f99f059be11a4eb89c4fbf6d673d6}{edges\_beetween\_shift\_CAM\_delay\_definition}}];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00198}\mbox{\hyperlink{failures_8c_a2a6666ba3f9fa015610de05c735552ac}{00198}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_a25e59de533be1ac55ec5453104b0da3b}{angle\_to\_edge\_CAM\_delay}}[2][\mbox{\hyperlink{main_8c_a8a8f99f059be11a4eb89c4fbf6d673d6}{edges\_beetween\_shift\_CAM\_delay\_definition}}];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00199}\mbox{\hyperlink{failures_8c_a7488bc4243e7ba92ade85f9186db2793}{00199}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_a7488bc4243e7ba92ade85f9186db2793}{delay\_angle\_CAM\_delay}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00200}\mbox{\hyperlink{failures_8c_af4fb580f228912ecc709426087150786}{00200}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_af4fb580f228912ecc709426087150786}{delay\_factor\_CAM\_delay}} = 1.0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00201}\mbox{\hyperlink{failures_8c_ac73a776a47669561214b6ad84a70e641}{00201}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_ac73a776a47669561214b6ad84a70e641}{timer\_active\_CAM\_delay}}[2] = \{\textcolor{keyword}{false}, \textcolor{keyword}{false}\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00202}\mbox{\hyperlink{failures_8c_a1ffeb87120d45d392916acb155ef3879}{00202}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a1ffeb87120d45d392916acb155ef3879}{interrupt\_check\_CAM\_delay}}[2];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00203}00203 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00204}00204 \textcolor{comment}{//** CAM\_REF\_CRK **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00205}\mbox{\hyperlink{failures_8c_a831028f10615ac593b739d4731a43060}{00205}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a831028f10615ac593b739d4731a43060}{delay\_counter\_CAM\_REF\_CRK}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00206}\mbox{\hyperlink{failures_8c_af17a3a4176170c04e909c2cffab83a3e}{00206}} \textcolor{keywordtype}{long} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_af17a3a4176170c04e909c2cffab83a3e}{angle\_time\_to\_start\_failure\_CAM\_REF\_CRK}}; \textcolor{comment}{// Value Delay (ms or {\ucr}CRK)}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00207}\mbox{\hyperlink{failures_8c_a874e6e147c885cc35f55b3d8bc18ceb8}{00207}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_a874e6e147c885cc35f55b3d8bc18ceb8}{difference\_to\_edge\_failure\_start\_CAM\_REF\_CRK}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00208}\mbox{\hyperlink{failures_8c_a97ace91c5a574a12275e24d4b4bd02be}{00208}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_a97ace91c5a574a12275e24d4b4bd02be}{delay\_type\_CAM\_REF\_CRK}}; \textcolor{comment}{// t: time / c: {\ucr}CRK}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00209}00209 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00210}00210 \textcolor{comment}{//** CRK\_TOOTH\_OFF **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00211}\mbox{\hyperlink{failures_8c_a42368ade50de18ac6efb5e231ba284ab}{00211}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a42368ade50de18ac6efb5e231ba284ab}{number\_tooth\_off}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00212}\mbox{\hyperlink{failures_8c_ab06ff1f3f9aa8e15f049ad90eb229aec}{00212}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_ab06ff1f3f9aa8e15f049ad90eb229aec}{number\_teeth\_between\_tooth\_off}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00213}\mbox{\hyperlink{failures_8c_af2b350cad5f904241be3cd72267e8cd4}{00213}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_af2b350cad5f904241be3cd72267e8cd4}{counter\_tooth\_off}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00214}\mbox{\hyperlink{failures_8c_a590ad1bd7a49f0ea3fb90f8e24997bb1}{00214}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a590ad1bd7a49f0ea3fb90f8e24997bb1}{teeth\_counter\_CRK\_TOOTH\_OFF}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00215}\mbox{\hyperlink{failures_8c_adb0348602102ca6255e00dd691cfa53c}{00215}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_adb0348602102ca6255e00dd691cfa53c}{counter\_gap\_left\_CRK\_TOOTH\_OFF}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00216}00216 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00217}00217 \textcolor{comment}{//** CRK\_GAP\_NOT\_DET **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00218}\mbox{\hyperlink{failures_8c_a0afd59a7cbe5941cd4735019f3431de4}{00218}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a0afd59a7cbe5941cd4735019f3431de4}{teeth\_counter\_CRK\_GAP\_NOT\_DET}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00219}\mbox{\hyperlink{failures_8c_a0efa411b2fc4c7948d45abd03d6264a0}{00219}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a0efa411b2fc4c7948d45abd03d6264a0}{timer\_Counter\_CRK\_GAP\_NOT\_DET}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00220}00220 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00221}00221 \textcolor{comment}{//** SEG\_ADP\_ER\_LIM **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00222}\mbox{\hyperlink{failures_8c_ae22dd0b559e11e340eacb7e5acea6269}{00222}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_ae22dd0b559e11e340eacb7e5acea6269}{teeth\_counter\_SEG\_ADP\_ER\_LIM}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00223}\mbox{\hyperlink{failures_8c_aebc1cf24310f46e5fd32d36c9b93edb5}{00223}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_aebc1cf24310f46e5fd32d36c9b93edb5}{timer\_Counter\_SEG\_ADP\_ER\_LIM}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00224}\mbox{\hyperlink{failures_8c_aeaf45155613124740bc925868c135034}{00224}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_aeaf45155613124740bc925868c135034}{crk\_delay\_SEG\_ADP\_ER\_LIM}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00225}00225 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00226}00226 \textcolor{comment}{//** CRK\_PLS\_ORNG **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00227}\mbox{\hyperlink{failures_8c_ad60977ee83061906ebaf1f0c40ea504c}{00227}} \textcolor{keywordtype}{double} \mbox{\hyperlink{main_8c_ad60977ee83061906ebaf1f0c40ea504c}{crk\_pulse\_duration\_CRK\_PLS\_ORNG}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00228}00228 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00229}00229 \textcolor{comment}{//** POSN\_ENG\_STST\_LOSS **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00230}\mbox{\hyperlink{failures_8c_a21b65a4cdebaef539c0958653e7115da}{00230}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a21b65a4cdebaef539c0958653e7115da}{crk\_teeth\_off\_POSN\_ENG\_STST}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00231}\mbox{\hyperlink{failures_8c_af4e125ce632016b07d28f6ac94a33643}{00231}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_af4e125ce632016b07d28f6ac94a33643}{counter\_POSN\_ENG\_STST}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00232}00232 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00233}00233 \textcolor{comment}{//** CAM\_PAT\_ERR **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00234}\mbox{\hyperlink{failures_8c_ad7903904908b0166e54d513591340b4c}{00234}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_ad7903904908b0166e54d513591340b4c}{active\_CAM\_edges\_counter}}[2] = \{0, 0\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00235}00235 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00236}00236 \textcolor{comment}{//** SC\_CAM\_CRK **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00237}\mbox{\hyperlink{failures_8c_a4337a7e2ea5f37681e9765a379c42831}{00237}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a4337a7e2ea5f37681e9765a379c42831}{sc\_type\_SC\_CAM\_CRK}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00238}00238 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00239}00239 \textcolor{comment}{//***************** UART ********************}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00240}00240 \textcolor{comment}{//** Receive **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00241}\mbox{\hyperlink{main_8c_ad4bfbcc44cc22bb72cbfd271bb4f4fd8}{00241}} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_ad4bfbcc44cc22bb72cbfd271bb4f4fd8}{char\_counter}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00242}\mbox{\hyperlink{main_8c_a5204b01d9c34219f9b26378de5164b0f}{00242}} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a5204b01d9c34219f9b26378de5164b0f}{data\_counter}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00243}\mbox{\hyperlink{main_8c_a17329928f3869c86738181f3fb57fbff}{00243}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_a17329928f3869c86738181f3fb57fbff}{in}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00244}\mbox{\hyperlink{main_8c_a03535d979603bfbbf85a5fe5c4e1a176}{00244}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_a03535d979603bfbbf85a5fe5c4e1a176}{start\_char}} = \textcolor{charliteral}{'!'};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00245}\mbox{\hyperlink{main_8c_a98232dc5af0ccab4ba04e8abe43453d6}{00245}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_a98232dc5af0ccab4ba04e8abe43453d6}{end\_char}} = \textcolor{charliteral}{'\%'};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00246}\mbox{\hyperlink{main_8c_a3fd96a1924b3a3f85e716adaae2650e1}{00246}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_a3fd96a1924b3a3f85e716adaae2650e1}{input\_chars}}[250];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00247}\mbox{\hyperlink{main_8c_abd2445aa73e81f69b039b4ff5eb75687}{00247}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_abd2445aa73e81f69b039b4ff5eb75687}{input}}[250];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00248}\mbox{\hyperlink{main_8c_adaacf85422658ac80004cdc8b1bd51f1}{00248}} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_adaacf85422658ac80004cdc8b1bd51f1}{input\_char\_counter}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00249}\mbox{\hyperlink{main_8c_aaaf7baa3d8ac85d9a42661d006cf45d1}{00249}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_aaaf7baa3d8ac85d9a42661d006cf45d1}{temp\_chars\_1}}[21];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00250}\mbox{\hyperlink{main_8c_abae06a6c6bd04626e03b075988b29798}{00250}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_abae06a6c6bd04626e03b075988b29798}{temp\_chars\_2}}[21];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00251}\mbox{\hyperlink{main_8c_accf419f1343baf3022d8110d77787da3}{00251}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_accf419f1343baf3022d8110d77787da3}{temp\_chars\_3}}[21];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00252}\mbox{\hyperlink{main_8c_a46e88e75cf37f24014fc5343f7cda43a}{00252}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_a46e88e75cf37f24014fc5343f7cda43a}{temp\_chars\_4}}[21];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00253}\mbox{\hyperlink{main_8c_ae979808ac8536b0694d8d4922b82b8c2}{00253}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_ae979808ac8536b0694d8d4922b82b8c2}{temp\_chars\_5}}[21];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00254}\mbox{\hyperlink{main_8c_a7dfda55d11eebf66f16e7028582fc988}{00254}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_a7dfda55d11eebf66f16e7028582fc988}{temp\_chars\_6}}[21];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00255}\mbox{\hyperlink{main_8c_a57230e9c3089849595ec548dfb3d7cb3}{00255}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_a57230e9c3089849595ec548dfb3d7cb3}{temp\_chars\_7}}[21];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00256}\mbox{\hyperlink{main_8c_af925a16ab23f8f57d70f2ad109a76653}{00256}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_af925a16ab23f8f57d70f2ad109a76653}{temp\_chars\_8}}[21];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00257}\mbox{\hyperlink{main_8c_ae1433699181c826d3b99480196999667}{00257}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_ae1433699181c826d3b99480196999667}{temp\_chars\_9}}[21];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00258}\mbox{\hyperlink{main_8c_aaa5d3d9d9bb45454a966061259e9f0e0}{00258}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_aaa5d3d9d9bb45454a966061259e9f0e0}{temp\_chars\_10}}[21];}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00259}\mbox{\hyperlink{main_8c_a3264ca17406556a54abe56667f2c8611}{00259}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a3264ca17406556a54abe56667f2c8611}{receiving}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00260}\mbox{\hyperlink{main_8c_a9a75d3b2e50a13d5eed2e8c1068f0acb}{00260}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_a9a75d3b2e50a13d5eed2e8c1068f0acb}{message\_received}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00261}\mbox{\hyperlink{main_8c_aa9fcd7a55fe9ac0028180822cbaceced}{00261}} \textcolor{keywordtype}{bool} \mbox{\hyperlink{main_8c_aa9fcd7a55fe9ac0028180822cbaceced}{com\_error}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00262}\mbox{\hyperlink{main_8c_afe98920c33a9fc309d104f2039c15859}{00262}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_afe98920c33a9fc309d104f2039c15859}{message\_identify}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00263}00263 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00264}00264 \textcolor{comment}{//** Send **}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00265}\mbox{\hyperlink{main_8c_a26089ca36471af8e06dab2ef71bdd1bc}{00265}} \textcolor{keywordtype}{char} \mbox{\hyperlink{main_8c_a26089ca36471af8e06dab2ef71bdd1bc}{message}}[14] = \{\textcolor{charliteral}{'1'}, \textcolor{charliteral}{'2'}, \textcolor{charliteral}{'3'}, \textcolor{charliteral}{'4'}, \textcolor{charliteral}{'5'}, \textcolor{charliteral}{'6'}, \textcolor{charliteral}{'7'}, \textcolor{charliteral}{'8'}, \textcolor{charliteral}{'9'}, \textcolor{charliteral}{'a'}, \textcolor{charliteral}{'b'}, \textcolor{charliteral}{'z'}, \textcolor{charliteral}{'x'}, \textcolor{charliteral}{'y'}\};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00266}00266 \textcolor{comment}{// 1: COM-\/error}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00267}00267 \textcolor{comment}{// 2: CRK-\/configuration ready}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00268}00268 \textcolor{comment}{// 3: CAM-\/configuration ready}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00269}00269 \textcolor{comment}{// 4: CRK-\/synchronization ready}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00270}00270 \textcolor{comment}{// 5: CRK-\/synchronization lost}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00271}00271 \textcolor{comment}{// 6: CAM/CRK-\/synchronization ready}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00272}00272 \textcolor{comment}{// 7: CAM/CRK-\/synchronization lost}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00273}00273 \textcolor{comment}{// 8: Failure active}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00274}00274 \textcolor{comment}{// 9: Failure passive}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00275}00275 \textcolor{comment}{// a: Failure CAM blank out active}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00276}00276 \textcolor{comment}{// b: Failure CAM blank out passive}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00277}00277 \textcolor{comment}{// z: Communication validation}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00278}00278 \textcolor{comment}{// x: Communication receive ready}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00279}00279 \textcolor{comment}{// y: Communication receive not ready}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00280}00280 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00281}00281 \textcolor{comment}{//\#\#\# Main Function \#\#\#}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00282}00282 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00283}\mbox{\hyperlink{main_8c_a840291bc02cba5474a4cb46a9b9566fe}{00283}} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8c_a840291bc02cba5474a4cb46a9b9566fe}{main}}(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00284}00284 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00285}00285 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00286}00286     \textcolor{comment}{// \#\# Initialisierung \#\#}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00287}00287 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00288}00288     \mbox{\hyperlink{osc_8h_af5abfba00b5a5a813987365e95610961}{OSCInit}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00289}00289 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00290}00290     \mbox{\hyperlink{timer_8h_a2806444250f7a6b55ea9b3ac603a52ae}{Timer1Init}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00291}00291 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00292}00292     \mbox{\hyperlink{timer_8h_a21b35a563150d94b502ad806d1151473}{Timer2Init}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00293}00293 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00294}00294     \mbox{\hyperlink{timer_8h_ae66273f67cb40083e80b4dcb297744e7}{Timer3Init}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00295}00295 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00296}00296     \mbox{\hyperlink{timer_8h_ad85c1183ed955a75f7f2cd6eccce16d8}{Timer4Init}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00297}00297 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00298}00298     \mbox{\hyperlink{timer_8h_a94de93121cb4149703f5fac5046668b3}{Timer5Init}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00299}00299 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00300}00300     \mbox{\hyperlink{timer_8h_a8535789e70af446f607d51b00faa8e74}{Timer6Init}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00301}00301 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00302}00302     \mbox{\hyperlink{timer_8h_ac8159d78a79df090ed27f08dc4b1ade7}{Timer7Init}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00303}00303 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00304}00304     \mbox{\hyperlink{timer_8h_a51d0e1103eb944c46ccc15d486804638}{Timer8Init}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00305}00305 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00306}00306     \mbox{\hyperlink{timer_8h_ae26fa840585daa71d05e65dfcc9d45cb}{Timer9Init}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00307}00307 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00308}00308     \mbox{\hyperlink{ic_8h_a53a68e4445f3ff8411344013cd7d9be2}{IC1Init}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00309}00309 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00310}00310     \mbox{\hyperlink{ic_8h_afb52195f7f3a7c4574c1f1424815947a}{IC2Init}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00311}00311 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00312}00312     \mbox{\hyperlink{ic_8h_a4c9d5a019ae2c39a118e9912a5ca256c}{IC3Init}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00313}00313 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00314}00314     \mbox{\hyperlink{ic_8h_a43c36affbe370a850335365d6e8dd4e2}{IC4Init}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00315}00315 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00316}00316     \mbox{\hyperlink{ic_8h_aa7e16edfb2efdeab94d361a9d8aedab2}{IC5Init}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00317}00317 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00318}00318     \mbox{\hyperlink{ic_8h_a5423ca0f7568c9cdc487f6ac0f9d3066}{IC6Init}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00319}00319 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00320}00320     \mbox{\hyperlink{port__config_8h_af7a4e63a16008b67b2fa72cbce2ad01b}{Port\_G\_config}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00321}00321 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00322}00322     \mbox{\hyperlink{uart_8h_a3465f3b23bee9aa8eb606301311213f4}{Uart2Init}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00323}00323 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00324}00324     TRISAbits.TRISA9 = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00325}00325 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00326}00326     LATAbits.LATA9 = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00327}00327 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00328}00328     \textcolor{comment}{// \#\# Main loop \#\#}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00329}00329     \textcolor{keywordflow}{while} (1)}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00330}00330     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00331}00331         \textcolor{comment}{// failure processing}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00332}00332         \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_af2b1f70badf370b8c61316f5dcefaf26}{configuration\_complete}})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00333}00333         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00334}00334             \mbox{\hyperlink{failures_8h_aeda4f321c053b7b8d9a10a47228988d8}{Failure\_processing}}(\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}});}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00335}00335         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00336}00336 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00337}00337         \textcolor{comment}{// process the received message}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00338}00338         \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a9a75d3b2e50a13d5eed2e8c1068f0acb}{message\_received}} == \textcolor{keyword}{true} \&\& \mbox{\hyperlink{main_8c_aa9fcd7a55fe9ac0028180822cbaceced}{com\_error}} == \textcolor{keyword}{false})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00339}00339         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00340}00340             \mbox{\hyperlink{uart_8h_aeb908abd909e8d4eb02495bd782db540}{UART\_receive}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00341}00341         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00342}00342 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00343}00343         \textcolor{comment}{// reset all values when CRK stalling is detected}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00344}00344         \textcolor{keywordflow}{if} ((\mbox{\hyperlink{main_8c_aa697468758fbf1b546cd67c827d8dd84}{timer\_overflow\_CRK}} > 10)) \textcolor{comment}{// || (timer\_overflow\_CAM > 5))}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00345}00345         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00346}00346             \textcolor{comment}{// Stalling\_detection();}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00347}00347             \mbox{\hyperlink{synchronization_8h_a94f5b23c085bc254fc8c299869074e73}{Stalling\_detection\_CRK}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00348}00348             LATAbits.LATA9 = 1;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00349}00349         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00350}00350         \textcolor{comment}{// reset all values when CAM stalling is detected //was not here before}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00351}00351         \textcolor{keywordflow}{if} ((\mbox{\hyperlink{main_8c_af63272d2518e2577d29c0d278b3fa48e}{timer\_overflow\_CAM}} > 5))}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00352}00352         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00353}00353             \mbox{\hyperlink{synchronization_8h_a4596029a024214ad58ba6fd7376ac245}{Stalling\_detection\_CAM}}(0);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00354}00354             \mbox{\hyperlink{synchronization_8h_a4596029a024214ad58ba6fd7376ac245}{Stalling\_detection\_CAM}}(1);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00355}00355             LATAbits.LATA9 = 1;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00356}00356         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00357}00357 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00358}00358         \textcolor{comment}{// send failure configuration status}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00359}00359         \mbox{\hyperlink{uart_8h_a7cbf1b6510d4356f961b09b60ab01e14}{UART\_send\_failure\_configuration\_status}}(\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}}, \mbox{\hyperlink{main_8c_a155fe01f33d7c7c624afc3ac935b2523}{failure\_configured}}, \mbox{\hyperlink{main_8c_a22003ec99e75d7fde10d70c9e5ba1c7b}{failure\_configured\_CAM\_blank\_out}});}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00360}00360 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00361}00361         \textcolor{comment}{// check input signal level and set corresponding output level}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00362}00362         \mbox{\hyperlink{system__configuration_8h_a59076703f9dd366b1aaea4086362723e}{Input\_signal\_observe}}(\mbox{\hyperlink{main_8c_a26f49697b8275c1863e0716a3c236480}{output\_level\_setting}});}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00363}00363 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00364}00364         \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a7727b0a0a81b3a64c19a0e84fd498c5b}{CRK\_synch}})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00365}00365         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00366}00366             LATAbits.LATA0 = 1;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00367}00367             LATAbits.LATA3 = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00368}00368         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00369}00369         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00370}00370         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00371}00371             LATAbits.LATA0 = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00372}00372         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00373}00373 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00374}00374         \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a00fe94a04e331cc5cdc95a8073c1ecb3}{CRK\_synch\_temp}})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00375}00375         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00376}00376             LATAbits.LATA1 = 1;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00377}00377         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00378}00378         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00379}00379         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00380}00380             LATAbits.LATA1 = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00381}00381         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00382}00382 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00383}00383         \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a7727b0a0a81b3a64c19a0e84fd498c5b}{CRK\_synch}})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00384}00384         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00385}00385             LATAbits.LATA9 = 1;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00386}00386         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00387}00387         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00388}00388         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00389}00389             LATAbits.LATA9 = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00390}00390         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00391}00391     \};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00392}00392 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00393}00393 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00394}00394 \textcolor{comment}{// \#\#\# Interrupt Functions \#\#\#}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00395}00395 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00396}00396 \textcolor{comment}{//\#\# Capture Event rising edge -\/-\/CRK-\/-\/}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00397}00397 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00398}\mbox{\hyperlink{main_8c_a64653c452ab199760e9cdd6bdbbeeb76}{00398}} \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a64653c452ab199760e9cdd6bdbbeeb76}{\_\_attribute\_\_}}((\_\_interrupt\_\_, no\_auto\_psv)) \_IC1Interrupt(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00399}00399 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00400}00400 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00401}00401     \mbox{\hyperlink{main_8c_a66d1dc17c3815ec543259ff6cd358896}{CRK\_signal}} = \textcolor{keyword}{true}; \textcolor{comment}{// Set actual signal level}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00402}00402 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00403}00403     \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_aa009bc0b69bbb38154e60d1428ffc33c}{failure\_active}} == \textcolor{keyword}{false}) \textcolor{comment}{// Set CRK-\/output}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00404}00404     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00405}00405         \mbox{\hyperlink{failures_8h_a3484fce8f4223ea262d178cbea751f06}{Output\_CRK\_no\_failure}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00406}00406     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00407}00407     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} != \textcolor{charliteral}{'1'} \&\& \mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} != \textcolor{charliteral}{'4'} \&\& \mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} != \textcolor{charliteral}{'f'} \&\& \mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} != \textcolor{charliteral}{'b'} \&\& \mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} != \textcolor{charliteral}{'i'} \&\& \mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} != \textcolor{charliteral}{'j'} \&\& \mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} != \textcolor{charliteral}{'k'} \&\& \mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} != \textcolor{charliteral}{'l'} \&\& \mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} != \textcolor{charliteral}{'m'})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00408}00408     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00409}00409         \mbox{\hyperlink{failures_8h_a3484fce8f4223ea262d178cbea751f06}{Output\_CRK\_no\_failure}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00410}00410     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00411}00411 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00412}00412     \mbox{\hyperlink{main_8c_a1ff4d3545237dd73fc8c3022922e48c2}{low\_time\_CRK}} = (\textcolor{keywordtype}{unsigned} long)\mbox{\hyperlink{p33_f_j256_g_p710_a_8h_a0190992e8a1ad732bd251ec7979b1d97}{IC1BUF}}; \textcolor{comment}{// Set actual low time of CRK signal}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00413}00413 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00414}00414     \mbox{\hyperlink{failures_8h_af16df65011ea353486effc50e1639210}{Output\_CRK}}(\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}}); \textcolor{comment}{// CRK Output}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00415}00415     \mbox{\hyperlink{main_8c_aa697468758fbf1b546cd67c827d8dd84}{timer\_overflow\_CRK}} = 0;       \textcolor{comment}{// edge was detected, so no stalling}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00416}00416     IFS0bits.IC1IF = 0;           \textcolor{comment}{// Clear IC1 Interrupt Flag}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00417}00417 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00418}00418 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00419}00419 \textcolor{comment}{//\#\# Capture Event falling edge -\/-\/CRK-\/-\/}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00420}00420 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00421}00421 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a64653c452ab199760e9cdd6bdbbeeb76}{\_\_attribute\_\_}}((\_\_interrupt\_\_, no\_auto\_psv)) \_IC2Interrupt(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00422}00422 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00423}00423 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00424}00424     \mbox{\hyperlink{main_8c_a66d1dc17c3815ec543259ff6cd358896}{CRK\_signal}} = \textcolor{keyword}{false}; \textcolor{comment}{// Set actual signal level}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00425}00425 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00426}00426     \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_aa009bc0b69bbb38154e60d1428ffc33c}{failure\_active}} == \textcolor{keyword}{false}) \textcolor{comment}{// Set CRK-\/output}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00427}00427     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00428}00428         \mbox{\hyperlink{failures_8h_a3484fce8f4223ea262d178cbea751f06}{Output\_CRK\_no\_failure}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00429}00429     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00430}00430     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} != \textcolor{charliteral}{'1'} \&\& \mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} != \textcolor{charliteral}{'4'} \&\& \mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} != \textcolor{charliteral}{'f'} \&\& \mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} != \textcolor{charliteral}{'h'} \&\& \mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} != \textcolor{charliteral}{'i'} \&\& \mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} != \textcolor{charliteral}{'j'} \&\& \mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} != \textcolor{charliteral}{'k'} \&\& \mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} != \textcolor{charliteral}{'l'} \&\& \mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} != \textcolor{charliteral}{'m'})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00431}00431     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00432}00432         \mbox{\hyperlink{failures_8h_a3484fce8f4223ea262d178cbea751f06}{Output\_CRK\_no\_failure}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00433}00433     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00434}00434 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00435}00435     \mbox{\hyperlink{synchronization_8h_ab7c6d4bad6a9b90b4c6f897705746250}{sync\_CRK\_preparation}}(); \textcolor{comment}{// CRK synchronisation preparation}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00436}00436 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00437}00437     \mbox{\hyperlink{failures_8h_af16df65011ea353486effc50e1639210}{Output\_CRK}}(\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}}); \textcolor{comment}{// CRK Output}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00438}00438     \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_af2b1f70badf370b8c61316f5dcefaf26}{configuration\_complete}} == \textcolor{keyword}{true})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00439}00439     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00440}00440         \mbox{\hyperlink{synchronization_8h_a31270116de50c0535b3b35d85a96faae}{sync\_CRK}}(); \textcolor{comment}{// CRK synchronization}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00441}00441     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00442}00442     \mbox{\hyperlink{main_8c_aa697468758fbf1b546cd67c827d8dd84}{timer\_overflow\_CRK}} = 0; \textcolor{comment}{// edge was detected, so no stalling}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00443}00443     IFS0bits.IC2IF = 0;     \textcolor{comment}{// Clar IC2 Interrupt Flag}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00444}00444 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00445}00445 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00446}00446 \textcolor{comment}{//\#\# Capture Event rising edge -\/-\/CAM1-\/-\/}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00447}00447 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00448}00448 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a64653c452ab199760e9cdd6bdbbeeb76}{\_\_attribute\_\_}}((\_\_interrupt\_\_, no\_auto\_psv)) \_IC3Interrupt(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00449}00449 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00450}00450 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00451}00451     \mbox{\hyperlink{main_8c_a4846863c93975e5d88fbd9b4ecc57d20}{CAM\_signal}}[0] = \textcolor{keyword}{true}; \textcolor{comment}{// Set actual signal level}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00452}00452 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00453}00453     \mbox{\hyperlink{failures_8h_aa767693c5162679ba4304f3902d51b14}{Output\_CAM}}(\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}}, 0); \textcolor{comment}{// CAM1 Output}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00454}00454 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00455}00455     \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_af2b1f70badf370b8c61316f5dcefaf26}{configuration\_complete}} == \textcolor{keyword}{true})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00456}00456     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00457}00457         \mbox{\hyperlink{synchronization_8h_af2ead3079e8054cfc1af37255a1ac212}{sync\_CAM\_CRK}}(0); \textcolor{comment}{// CAM\_CRK synchronization}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00458}00458     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00459}00459     \mbox{\hyperlink{main_8c_af63272d2518e2577d29c0d278b3fa48e}{timer\_overflow\_CAM}} = 0; \textcolor{comment}{// edge was detected, so no stalling}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00460}00460     IFS2bits.IC3IF = 0;     \textcolor{comment}{// Clear IC3 Interrupt Flag}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00461}00461 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00462}00462 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00463}00463 \textcolor{comment}{//\#\# Capture Event falling edge -\/-\/CAM1-\/-\/}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00464}00464 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00465}00465 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a64653c452ab199760e9cdd6bdbbeeb76}{\_\_attribute\_\_}}((\_\_interrupt\_\_, no\_auto\_psv)) \_IC4Interrupt(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00466}00466 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00467}00467 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00468}00468     \mbox{\hyperlink{main_8c_a4846863c93975e5d88fbd9b4ecc57d20}{CAM\_signal}}[0] = \textcolor{keyword}{false}; \textcolor{comment}{// Set actual signal level}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00469}00469 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00470}00470     \mbox{\hyperlink{timer_8h_ada1771b555742f3998e491ceb0892ded}{Timer3Reset}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00471}00471 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00472}00472     \mbox{\hyperlink{failures_8h_aa767693c5162679ba4304f3902d51b14}{Output\_CAM}}(\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}}, 0); \textcolor{comment}{// CAM1 Output}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00473}00473 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00474}00474     \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_af2b1f70badf370b8c61316f5dcefaf26}{configuration\_complete}} == \textcolor{keyword}{true})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00475}00475     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00476}00476         \mbox{\hyperlink{synchronization_8h_af2ead3079e8054cfc1af37255a1ac212}{sync\_CAM\_CRK}}(0); \textcolor{comment}{// CAM\_CRK synchronization}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00477}00477     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00478}00478     \mbox{\hyperlink{main_8c_af63272d2518e2577d29c0d278b3fa48e}{timer\_overflow\_CAM}} = 0; \textcolor{comment}{// edge was detected, so no stalling}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00479}00479     IFS2bits.IC4IF = 0;     \textcolor{comment}{// Clear IC4 Interrupt Flag}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00480}00480 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00481}00481 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00482}00482 \textcolor{comment}{//\#\# Capture Event rising edge -\/-\/CAM2-\/-\/}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00483}00483 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00484}00484 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a64653c452ab199760e9cdd6bdbbeeb76}{\_\_attribute\_\_}}((\_\_interrupt\_\_, no\_auto\_psv)) \_IC5Interrupt(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00485}00485 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00486}00486     \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a8b96e45eeb664a177dede0e498910a1b}{number\_of\_CAM}} == 2)}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00487}00487     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00488}00488         \mbox{\hyperlink{main_8c_a4846863c93975e5d88fbd9b4ecc57d20}{CAM\_signal}}[1] = \textcolor{keyword}{true}; \textcolor{comment}{// Set actual signal level}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00489}00489 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00490}00490         \mbox{\hyperlink{failures_8h_aa767693c5162679ba4304f3902d51b14}{Output\_CAM}}(\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}}, 1); \textcolor{comment}{// CAM2 Output}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00491}00491 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00492}00492         \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_af2b1f70badf370b8c61316f5dcefaf26}{configuration\_complete}} == \textcolor{keyword}{true})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00493}00493         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00494}00494             \mbox{\hyperlink{synchronization_8h_af2ead3079e8054cfc1af37255a1ac212}{sync\_CAM\_CRK}}(1); \textcolor{comment}{// CAM\_CRK synchronization}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00495}00495         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00496}00496         \mbox{\hyperlink{main_8c_af63272d2518e2577d29c0d278b3fa48e}{timer\_overflow\_CAM}} = 0; \textcolor{comment}{// edge was detected, so no stalling}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00497}00497     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00498}00498     IFS2bits.IC5IF = 0; \textcolor{comment}{// Clear IC5 Interrupt Flag}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00499}00499 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00500}00500 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00501}00501 \textcolor{comment}{//\#\# Capture Event falling edge -\/-\/CAM2-\/-\/}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00502}00502 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00503}00503 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a64653c452ab199760e9cdd6bdbbeeb76}{\_\_attribute\_\_}}((\_\_interrupt\_\_, no\_auto\_psv)) \_IC6Interrupt(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00504}00504 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00505}00505     \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a8b96e45eeb664a177dede0e498910a1b}{number\_of\_CAM}} == 2)}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00506}00506     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00507}00507         \mbox{\hyperlink{main_8c_a4846863c93975e5d88fbd9b4ecc57d20}{CAM\_signal}}[1] = \textcolor{keyword}{false}; \textcolor{comment}{// Set actual signal level}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00508}00508 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00509}00509         \mbox{\hyperlink{timer_8h_ada1771b555742f3998e491ceb0892ded}{Timer3Reset}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00510}00510 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00511}00511         \mbox{\hyperlink{failures_8h_aa767693c5162679ba4304f3902d51b14}{Output\_CAM}}(\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}}, 1); \textcolor{comment}{// CAM2 Output}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00512}00512 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00513}00513         \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_af2b1f70badf370b8c61316f5dcefaf26}{configuration\_complete}} == \textcolor{keyword}{true})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00514}00514         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00515}00515             \mbox{\hyperlink{synchronization_8h_af2ead3079e8054cfc1af37255a1ac212}{sync\_CAM\_CRK}}(1); \textcolor{comment}{// CAM\_CRK synchronization}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00516}00516         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00517}00517         \mbox{\hyperlink{main_8c_af63272d2518e2577d29c0d278b3fa48e}{timer\_overflow\_CAM}} = 0; \textcolor{comment}{// edge was detected, so no stalling}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00518}00518     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00519}00519     IFS2bits.IC6IF = 0; \textcolor{comment}{// Clear IC6 Interrupt Flag}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00520}00520 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00521}00521 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00522}00522 \textcolor{comment}{//\#\# Timer 1 Interrupt: Communication validation}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00523}00523 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00524}00524 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a64653c452ab199760e9cdd6bdbbeeb76}{\_\_attribute\_\_}}((\_\_interrupt\_\_, no\_auto\_psv)) \_T1Interrupt(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00525}00525 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00526}00526     \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a44944c4febc3ff25dd242a52b1b42226}{communication\_active}} == \textcolor{keyword}{true})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00527}00527     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00528}00528         \mbox{\hyperlink{uart_8h_a6a5e387e1c7d171a2fcc4e2c264964d4}{UART\_send}}(\mbox{\hyperlink{main_8c_a26089ca36471af8e06dab2ef71bdd1bc}{message}}[11]);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00529}00529 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00530}00530         \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_add696ba7a8f31a196fc34ea5afdeb48d}{communication\_validation}} == \textcolor{keyword}{true})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00531}00531         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00532}00532             \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a6d78a853f38c5aa69102c7cb757623cb}{communication\_ready}} == \textcolor{keyword}{true})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00533}00533             \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00534}00534                 \mbox{\hyperlink{main_8c_a6d78a853f38c5aa69102c7cb757623cb}{communication\_ready}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00535}00535             \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00536}00536             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00537}00537             \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00538}00538                 \mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} = \textcolor{charliteral}{'0'};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00539}00539                 \mbox{\hyperlink{main_8c_af2b1f70badf370b8c61316f5dcefaf26}{configuration\_complete}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00540}00540                 \mbox{\hyperlink{main_8c_acd78757977e1e4a37661d2abf4d0e274}{CRK\_config}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00541}00541                 \mbox{\hyperlink{main_8c_a7809eb20331648930f7a85897de70a88}{CAM\_config}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00542}00542                 \mbox{\hyperlink{main_8c_a44944c4febc3ff25dd242a52b1b42226}{communication\_active}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00543}00543                 \mbox{\hyperlink{main_8c_add696ba7a8f31a196fc34ea5afdeb48d}{communication\_validation}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00544}00544                 T1CONbits.TON = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00545}00545                 \mbox{\hyperlink{p33_f_j256_g_p710_a_8h_a4dedcb5ae32698839ce5e62aa2c3cd3b}{TMR1}} = 0x00;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00546}00546                 \mbox{\hyperlink{synchronization_8h_acde4eb7626d6b5f4d9aa424d378bb77d}{Stalling\_detection}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00547}00547             \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00548}00548         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00549}00549 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00550}00550         \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a44944c4febc3ff25dd242a52b1b42226}{communication\_active}} == \textcolor{keyword}{true})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00551}00551         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00552}00552             \mbox{\hyperlink{main_8c_add696ba7a8f31a196fc34ea5afdeb48d}{communication\_validation}} = !\mbox{\hyperlink{main_8c_add696ba7a8f31a196fc34ea5afdeb48d}{communication\_validation}};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00553}00553         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00554}00554     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00555}00555 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00556}00556     IFS0bits.T1IF = 0; \textcolor{comment}{// Clear Timer1 Interrupt Flag}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00557}00557 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00558}00558 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00559}00559 \textcolor{comment}{//\#\# Timer 2 Interrupt CRK tooth time}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00560}00560 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00561}00561 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a64653c452ab199760e9cdd6bdbbeeb76}{\_\_attribute\_\_}}((\_\_interrupt\_\_, no\_auto\_psv)) TIM2\_IRQHandler(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00562}00562 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00563}00563 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00564}00564     \textcolor{comment}{// all overflows between the events}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00565}00565     \mbox{\hyperlink{main_8c_aa697468758fbf1b546cd67c827d8dd84}{timer\_overflow\_CRK}}++;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00566}00566 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00567}00567     TIM\_ClearFlag(TIM2, TIM\_FLAG\_Update);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00568}00568 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00569}00569 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00570}00570 \textcolor{comment}{//\#\# Timer 3 Interrupt CAM tooth time}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00571}00571 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00572}00572 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a64653c452ab199760e9cdd6bdbbeeb76}{\_\_attribute\_\_}}((\_\_interrupt\_\_, no\_auto\_psv)) TIM3\_IRQHandler(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00573}00573 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00574}00574 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00575}00575     \textcolor{comment}{// all overflows between the events}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00576}00576     \textcolor{comment}{// test}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00577}00577     \mbox{\hyperlink{main_8c_af63272d2518e2577d29c0d278b3fa48e}{timer\_overflow\_CAM}}++;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00578}00578 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00579}00579     TIM\_ClearFlag(TIM3, TIM\_FLAG\_Update);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00580}00580 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00581}00581 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00582}00582 \textcolor{comment}{//\#\# Timer 4 Interrupt: CRK failure circuit-\/entering}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00583}00583 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00584}00584 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a64653c452ab199760e9cdd6bdbbeeb76}{\_\_attribute\_\_}}((\_\_interrupt\_\_, no\_auto\_psv)) TIM4\_IRQHandler(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00585}00585 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00586}00586     \textcolor{comment}{// all overflows between the events}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00587}00587     \mbox{\hyperlink{main_8c_ab2fec6547dc914b855112ea2d069e652}{timer\_overflow\_CRK\_failure}}++;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00588}00588 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00589}00589     TIM\_SetCounter(TIM4, 0);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00590}00590     TIM\_ClearFlag(TIM4, TIM\_FLAG\_Update);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00591}00591 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00592}00592 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00593}00593 \textcolor{comment}{//\#\# Timer 5 Interrupt: CAM failure circuit-\/entering}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00594}00594 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00595}00595 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a64653c452ab199760e9cdd6bdbbeeb76}{\_\_attribute\_\_}}((\_\_interrupt\_\_, no\_auto\_psv)) TIM5\_IRQHandler(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00596}00596 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00597}00597 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00598}00598     \textcolor{comment}{// all overflows between the events}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00599}00599     \mbox{\hyperlink{main_8c_aa7f0f8e777321cf47da5f0dd59c5be94}{timer\_overflow\_CAM\_failure}}++;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00600}00600 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00601}00601     TIM\_SetCounter(TIM5, 0);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00602}00602     TIM\_ClearFlag(TIM5, TIM\_FLAG\_Update);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00603}00603 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00604}00604 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00605}00605 \textcolor{comment}{//\#\# Timer 6 Interrupt: CAM\_PER -\/ start value}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00606}00606 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00607}00607 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a64653c452ab199760e9cdd6bdbbeeb76}{\_\_attribute\_\_}}((\_\_interrupt\_\_, no\_auto\_psv)) TIM6\_IRQHandler(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00608}00608 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00609}00609 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00610}00610     \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} == \textcolor{charliteral}{'5'})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00611}00611     \{ \textcolor{comment}{// CAM\_PER //?CAM\_PER is the error identified by '5'}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00612}00612 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00613}00613         \textcolor{keywordflow}{if} (GPIO\_ReadInputDataBit(GPIOG, 7) == 1)}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00614}00614         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00615}00615             GPIO\_ResetBits(GPIOG, 7);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00616}00616         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00617}00617         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00618}00618         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00619}00619             GPIO\_SetBits(GPIOG, 7);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00620}00620         \};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00621}00621 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00622}00622         \mbox{\hyperlink{main_8c_aaa021fc02b2a585f7a62ec97bbee6d5e}{counter\_CAM\_PER}}[0]++; \textcolor{comment}{//? Number of times we lost CAM with timer 6 ?}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00623}00623         \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_aaa021fc02b2a585f7a62ec97bbee6d5e}{counter\_CAM\_PER}}[0] == 2)}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00624}00624         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00625}00625             TIM\_Cmd(TIM6, DISABLE);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00626}00626             \mbox{\hyperlink{main_8c_aaa021fc02b2a585f7a62ec97bbee6d5e}{counter\_CAM\_PER}}[0] = 0; \textcolor{comment}{//? Reset timer 6 CAM lost counter}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00627}00627         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00628}00628         TIM\_SetCounter(TIM6, 0); \textcolor{comment}{// reset the timers counter}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00629}00629     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00630}00630     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} == \textcolor{charliteral}{'6'})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00631}00631     \{ \textcolor{comment}{// CRK\_TOOTH\_PER}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00632}00632 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00633}00633         \textcolor{comment}{// Load the period value 20us  here}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00634}00634         \textcolor{comment}{//? Période du timer = Période\_Horloge * (PSC+1) * (ARR+1)}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00635}00635         \textcolor{comment}{//? Le mieux est d'avoir PSC le plus petit possible}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00636}00636         \textcolor{comment}{//? Mais ARR doit pas dépasser (2\string^16)-\/1 = 65535}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00637}00637         \textcolor{comment}{//? 72Mhz*PSC+1*ARR+1}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00638}00638         TIM\_PrescalerConfig(TIM7, 0, TIM\_PSCReloadMode\_Immediate); \textcolor{comment}{//? Define PSC value}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00639}00639         TIM\_SetAutoreload(TIM7, 1439);                             \textcolor{comment}{//? Define ARR value 20us*72Mhz = 1440}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00640}00640 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00641}00641         TIM\_Cmd(TIM7, ENABLE);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00642}00642 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00643}00643         \textcolor{keywordflow}{if} (GPIO\_ReadInputDataBit(GPIOG, 6) == 1)}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00644}00644         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00645}00645             GPIO\_ResetBits(GPIOG, 6);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00646}00646         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00647}00647         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00648}00648         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00649}00649             GPIO\_SetBits(GPIOG, 6);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00650}00650         \};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00651}00651 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00652}00652         TIM\_Cmd(TIM6, DISABLE);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00653}00653     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00654}00654     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} == \textcolor{charliteral}{'b'})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00655}00655     \{ \textcolor{comment}{// CRK\_SHO\_LEVEL}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00656}00656 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00657}00657         GPIO\_SetBits(GPIOG, 6);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00658}00658 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00659}00659         TIM\_Cmd(TIM6, DISABLE);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00660}00660     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00661}00661     TIM\_ClearFlag(TIM6, TIM\_FLAG\_Update); \textcolor{comment}{// Clear Timer6 Interrupt Flag}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00662}00662 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00663}00663 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00664}00664 \textcolor{comment}{//\#\# Timer 7 Interrupt: CAM\_PER -\/ pulse duration}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00665}00665 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00666}00666 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a64653c452ab199760e9cdd6bdbbeeb76}{\_\_attribute\_\_}}((\_\_interrupt\_\_, no\_auto\_psv)) TIM7\_IRQHandler(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00667}00667 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00668}00668 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00669}00669     \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} == \textcolor{charliteral}{'5'}) \textcolor{comment}{// CAM\_PER -\/-\/> Cam\_Spk}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00670}00670     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00671}00671         \textcolor{keywordflow}{if} (GPIO\_ReadInputDataBit(GPIOG, 8) == 1)}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00672}00672         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00673}00673             GPIO\_ResetBits(GPIOG, 8);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00674}00674         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00675}00675         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00676}00676         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00677}00677             GPIO\_SetBits(GPIOG, 8);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00678}00678         \};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00679}00679 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00680}00680         \mbox{\hyperlink{main_8c_aaa021fc02b2a585f7a62ec97bbee6d5e}{counter\_CAM\_PER}}[1]++; \textcolor{comment}{// Number of times we lost CAM with timer 7}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00681}00681         \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_aaa021fc02b2a585f7a62ec97bbee6d5e}{counter\_CAM\_PER}}[1] == 2)}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00682}00682         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00683}00683 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00684}00684             TIM\_Cmd(TIM7, DISABLE);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00685}00685 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00686}00686             \mbox{\hyperlink{main_8c_aaa021fc02b2a585f7a62ec97bbee6d5e}{counter\_CAM\_PER}}[1] = 0; \textcolor{comment}{// Reset timer 7 CAM counter}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00687}00687         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00688}00688         TIM\_SetCounter(TIM7, 0);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00689}00689     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00690}00690     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} == \textcolor{charliteral}{'6'}) \textcolor{comment}{// CRK\_TOOTH\_PER}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00691}00691     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00692}00692         \textcolor{keywordflow}{if} (GPIO\_ReadInputDataBit(GPIOG, 6) == 1)}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00693}00693         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00694}00694             GPIO\_ResetBits(GPIOG, 6);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00695}00695         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00696}00696         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00697}00697         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00698}00698             GPIO\_SetBits(GPIOG, 6);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00699}00699         \};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00700}00700 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00701}00701         TIM\_Cmd(TIM7, DISABLE);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00702}00702     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00703}00703     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} == \textcolor{charliteral}{'j'})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00704}00704     \{ \textcolor{comment}{// SEG\_ADP\_ER\_LIM}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00705}00705 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00706}00706         \mbox{\hyperlink{main_8c_aebc1cf24310f46e5fd32d36c9b93edb5}{timer\_Counter\_SEG\_ADP\_ER\_LIM}}++;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00707}00707         \textcolor{keywordflow}{switch} (\mbox{\hyperlink{main_8c_aebc1cf24310f46e5fd32d36c9b93edb5}{timer\_Counter\_SEG\_ADP\_ER\_LIM}})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00708}00708         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00709}00709         \textcolor{keywordflow}{case} 1: \{ \textcolor{comment}{// failure for the falling edge}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00710}00710             GPIO\_ResetBits(GPIOG, 6);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00711}00711             \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_ae1abad2ed2b92b6b82254dc4debca57a}{failure\_waiting}} == \textcolor{keyword}{true})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00712}00712             \{                              \textcolor{comment}{// if the rising edge has already happen}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00713}00713                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a12faccd7c42eaf3bc1d085640a5b0286}{sensortype\_CRK}} == \textcolor{charliteral}{'c'}) \textcolor{comment}{// sensor is cpdd}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00714}00714                 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00715}00715                     TIM\_PrescalerConfig(TIM8, 0, TIM\_PSCReloadMode\_Immediate);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00716}00716                     TIM\_SetAutoreload(TIM8, 3599); \textcolor{comment}{//? 72*50=3600}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00717}00717                 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00718}00718                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a12faccd7c42eaf3bc1d085640a5b0286}{sensortype\_CRK}} == \textcolor{charliteral}{'h'})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00719}00719                 \{ \textcolor{comment}{// all the others}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00720}00720                     TIM\_PrescalerConfig(TIM8, 0, TIM\_PSCReloadMode\_Immediate);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00721}00721                     TIM\_SetAutoreload(TIM8, (\mbox{\hyperlink{main_8c_a8bc6e99e5b5b1814027ef2f4c2524e8f}{T\_TOOTH\_RAW}} / 2) -\/ 1); \textcolor{comment}{//? If setted period is more than 910 us PSC should be set higher}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00722}00722                 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00723}00723                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00724}00724                 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00725}00725                     \textcolor{comment}{// if sensor type not set, shouldn't happen}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00726}00726                     TIM\_PrescalerConfig(TIM8, 0, TIM\_PSCReloadMode\_Immediate);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00727}00727                     TIM\_SetAutoreload(TIM8, 1);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00728}00728                 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00729}00729 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00730}00730                 \textcolor{comment}{// Start timer 8}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00731}00731                 TIM\_Cmd(TIM8, ENABLE);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00732}00732             \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00733}00733             \mbox{\hyperlink{main_8c_a36381716e95bbb3090a24ba5260bf35d}{failure\_passed}} = \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00734}00734             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00735}00735         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00736}00736         \textcolor{keywordflow}{case} 2: \{                   \textcolor{comment}{// failure for the rising edge}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00737}00737             \mbox{\hyperlink{failures_8h_a9b4c0604e27a0e274bb04bf3d34b22d6}{SEG\_ADP\_ER\_LIM\_reset}}(); \textcolor{comment}{//?SEG\_... failure\_inactive, passed and waiting =false, init timer 7 \& 8, SEG\_...error counter reset}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00738}00738             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00739}00739         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00740}00740         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00741}00741         TIM\_Cmd(TIM7, DISABLE);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00742}00742     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00743}00743     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} == \textcolor{charliteral}{'k'}) \textcolor{comment}{// CrkPlsOrng}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00744}00744     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00745}00745         GPIO\_SetBits(GPIOG, 6);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00746}00746 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00747}00747         TIM\_Cmd(TIM7, DISABLE);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00748}00748     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00749}00749     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00750}00750     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00751}00751         TIM\_Cmd(TIM7, DISABLE);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00752}00752     \} \textcolor{comment}{//? Stop timer 7}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00753}00753 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00754}00754     TIM\_ClearFlag(TIM7, TIM\_FLAG\_Update);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00755}00755 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00756}00756 \textcolor{comment}{/*****************************************************************************/}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00757}00757 \textcolor{comment}{/*****************************************************************************/}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00758}00758 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00759}00759 \textcolor{comment}{//\#\# Timer 8 Interrupt}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00760}00760 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00761}00761 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a64653c452ab199760e9cdd6bdbbeeb76}{\_\_attribute\_\_}}((\_\_interrupt\_\_, no\_auto\_psv)) TIM8\_IRQHandler(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00762}00762 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00763}00763 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00764}00764     \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} == \textcolor{charliteral}{'i'})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00765}00765     \{ \textcolor{comment}{// CRK\_GAP\_NOT\_DET}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00766}00766         \mbox{\hyperlink{main_8c_a0efa411b2fc4c7948d45abd03d6264a0}{timer\_Counter\_CRK\_GAP\_NOT\_DET}}++;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00767}00767         \textcolor{keywordflow}{switch} (\mbox{\hyperlink{main_8c_a0efa411b2fc4c7948d45abd03d6264a0}{timer\_Counter\_CRK\_GAP\_NOT\_DET}})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00768}00768         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00769}00769         \textcolor{keywordflow}{case} 1: \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00770}00770             GPIO\_ResetBits(GPIOG, 6);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00771}00771 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00772}00772             \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a12faccd7c42eaf3bc1d085640a5b0286}{sensortype\_CRK}} == \textcolor{charliteral}{'c'})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00773}00773             \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00774}00774                 \textcolor{comment}{//§ PR8 = 0x001D;   // 29 * 1.73us = 50.1us}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00775}00775                 TIM\_PrescalerConfig(TIM8, 0, TIM\_PSCReloadMode\_Immediate); \textcolor{comment}{//? Define PSC value}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00776}00776                 TIM\_SetAutoreload(TIM8, 3599);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00777}00777             \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00778}00778             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a12faccd7c42eaf3bc1d085640a5b0286}{sensortype\_CRK}} == \textcolor{charliteral}{'h'})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00779}00779             \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00780}00780                 TIM\_PrescalerConfig(TIM8, 0, TIM\_PSCReloadMode\_Immediate);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00781}00781                 TIM\_SetAutoreload(TIM8, (\mbox{\hyperlink{main_8c_a8bc6e99e5b5b1814027ef2f4c2524e8f}{T\_TOOTH\_RAW}} / 2) -\/ 1); \textcolor{comment}{//? If setted period is more than 910us PSC should be set higher}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00782}00782             \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00783}00783             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00784}00784             \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00785}00785                 TIM\_PrescalerConfig(TIM8, 0, TIM\_PSCReloadMode\_Immediate);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00786}00786                 TIM\_SetAutoreload(TIM8, 1);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00787}00787             \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00788}00788             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00789}00789         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00790}00790         \textcolor{keywordflow}{case} 2: \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00791}00791             GPIO\_SetBits(GPIOG, 6);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00792}00792 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00793}00793             TIM\_Cmd(TIM8, DISABLE);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00794}00794 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00795}00795             \mbox{\hyperlink{main_8c_a0efa411b2fc4c7948d45abd03d6264a0}{timer\_Counter\_CRK\_GAP\_NOT\_DET}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00796}00796             \mbox{\hyperlink{main_8c_aa009bc0b69bbb38154e60d1428ffc33c}{failure\_active}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00797}00797             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00798}00798         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00799}00799         \textcolor{keywordflow}{default}: \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00800}00800             GPIO\_SetBits(GPIOG, 6);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00801}00801 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00802}00802             TIM\_Cmd(TIM8, DISABLE);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00803}00803             \mbox{\hyperlink{main_8c_a0efa411b2fc4c7948d45abd03d6264a0}{timer\_Counter\_CRK\_GAP\_NOT\_DET}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00804}00804             \mbox{\hyperlink{main_8c_aa009bc0b69bbb38154e60d1428ffc33c}{failure\_active}} = \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00805}00805             \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00806}00806         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00807}00807         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00808}00808     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00809}00809     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a906f58f9fb2ce60131ecacd1d649d6a1}{failure\_identify}} == \textcolor{charliteral}{'j'}) \textcolor{comment}{// SEG\_ADP\_ER\_LIM}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00810}00810     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00811}00811         \mbox{\hyperlink{failures_8h_a3484fce8f4223ea262d178cbea751f06}{Output\_CRK\_no\_failure}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00812}00812         \mbox{\hyperlink{failures_8h_a9b4c0604e27a0e274bb04bf3d34b22d6}{SEG\_ADP\_ER\_LIM\_reset}}();}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00813}00813     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00814}00814     TIM\_SetCounter(TIM8, 0);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00815}00815 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00816}00816     TIM\_ClearFlag(TIM8, TIM\_FLAG\_Update);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00817}00817 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00818}00818 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00819}00819 \textcolor{comment}{//\#\# Timer 9 Interrupt: CAM\_PER -\/ pulse duration}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00820}00820 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00821}00821 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a64653c452ab199760e9cdd6bdbbeeb76}{\_\_attribute\_\_}}((\_\_interrupt\_\_, no\_auto\_psv)) \_T9Interrupt(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00822}00822 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00823}00823     \mbox{\hyperlink{main_8c_a7ccd9723b2e11820cc395d0b16931872}{timer\_overflow\_CAM\_REF\_CRK}}++;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00824}00824 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00825}00825     TIM\_ClearFlag(TIM9, TIM\_FLAG\_Update);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00826}00826 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00827}00827 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00828}00828 \textcolor{comment}{//\#\# UART Receive Interrupt}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00829}00829 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00830}00830 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a64653c452ab199760e9cdd6bdbbeeb76}{\_\_attribute\_\_}}((\_\_interrupt\_\_, no\_auto\_psv)) \_U2RXInterrupt(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00831}00831 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00832}00832 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00833}00833     \textcolor{comment}{//§ in = U2RXREG;//? UART Receive}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00834}00834     \mbox{\hyperlink{main_8c_a17329928f3869c86738181f3fb57fbff}{in}} = USART\_ReceiveData(USART1);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00835}00835 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00836}00836     \textcolor{comment}{//§ if (U2STAbits.PERR == 1 || U2STAbits.FERR == 1) \{//? PERR : parity error status bit 1 if error detected 0 i no error detected}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00837}00837     \textcolor{keywordflow}{if} (USART\_GetFlagStatus(USART1, USART\_FLAG\_PE) == SET || USART\_GetFlagStatus(USART1, USART\_FLAG\_FE == SET))}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00838}00838     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00839}00839         \mbox{\hyperlink{uart_8h_a63c52296e7422b4878bfdfa080ea4abb}{UART\_COM\_error}}(); \textcolor{comment}{//? FERR : Framing Error Status bit 1 if error detected 0 i no error detected}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00840}00840 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00841}00841         \textcolor{comment}{//§ \} else if (U2STAbits.OERR == 1) \{                //? OERR : Receive Buffer Overrun Error Status bit  1 = Receive buffer has overflowed}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00842}00842     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00843}00843     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (USART\_GetFlagStatus(USART1, USART\_FLAG\_ORE) == SET)}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00844}00844     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00845}00845         \mbox{\hyperlink{uart_8h_a63c52296e7422b4878bfdfa080ea4abb}{UART\_COM\_error}}(); \textcolor{comment}{//? 0 = Receive buffer has not overflowed. Clearing a previously set OERR bit (1 → 0 transition) will reset}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00846}00846 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00847}00847         \textcolor{comment}{//§ U2STAbits.OERR = 0;                         //? the receiver buffer and the UxRSR to the empty state}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00848}00848         USART\_ReceiveData(USART1);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00849}00849     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00850}00850     \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00851}00851     \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00852}00852         \mbox{\hyperlink{main_8c_ad4bfbcc44cc22bb72cbfd271bb4f4fd8}{char\_counter}}++;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00853}00853 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00854}00854         \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_aa9fcd7a55fe9ac0028180822cbaceced}{com\_error}} == \textcolor{keyword}{false} \&\& \mbox{\hyperlink{main_8c_a3264ca17406556a54abe56667f2c8611}{receiving}} == \textcolor{keyword}{true} \&\& \mbox{\hyperlink{main_8c_a17329928f3869c86738181f3fb57fbff}{in}} != \mbox{\hyperlink{main_8c_a98232dc5af0ccab4ba04e8abe43453d6}{end\_char}})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00855}00855         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00856}00856             \mbox{\hyperlink{main_8c_a3fd96a1924b3a3f85e716adaae2650e1}{input\_chars}}[\mbox{\hyperlink{main_8c_ad4bfbcc44cc22bb72cbfd271bb4f4fd8}{char\_counter}} -\/ 2] = \mbox{\hyperlink{main_8c_a17329928f3869c86738181f3fb57fbff}{in}}; \textcolor{comment}{// write received char in array}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00857}00857         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00858}00858         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_aa9fcd7a55fe9ac0028180822cbaceced}{com\_error}} == \textcolor{keyword}{false} \&\& \mbox{\hyperlink{main_8c_a17329928f3869c86738181f3fb57fbff}{in}} == \mbox{\hyperlink{main_8c_a98232dc5af0ccab4ba04e8abe43453d6}{end\_char}} \&\& \mbox{\hyperlink{main_8c_a3264ca17406556a54abe56667f2c8611}{receiving}} == \textcolor{keyword}{true} \&\& \mbox{\hyperlink{main_8c_ad4bfbcc44cc22bb72cbfd271bb4f4fd8}{char\_counter}} > 2)}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00859}00859         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00860}00860             \mbox{\hyperlink{main_8c_a3fd96a1924b3a3f85e716adaae2650e1}{input\_chars}}[\mbox{\hyperlink{main_8c_ad4bfbcc44cc22bb72cbfd271bb4f4fd8}{char\_counter}} -\/ 2] = \textcolor{charliteral}{'\(\backslash\)0'}; \textcolor{comment}{// set length of array}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00861}00861 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00862}00862             \mbox{\hyperlink{main_8c_ad4bfbcc44cc22bb72cbfd271bb4f4fd8}{char\_counter}} = 0;        \textcolor{comment}{// reset counter value}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00863}00863             \mbox{\hyperlink{main_8c_a3264ca17406556a54abe56667f2c8611}{receiving}} = \textcolor{keyword}{false};       \textcolor{comment}{// reset label that indicates receiving status}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00864}00864             \mbox{\hyperlink{main_8c_a9a75d3b2e50a13d5eed2e8c1068f0acb}{message\_received}} = \textcolor{keyword}{true}; \textcolor{comment}{// set label that indicates succesfully received message}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00865}00865         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00866}00866         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{main_8c_a17329928f3869c86738181f3fb57fbff}{in}} == \mbox{\hyperlink{main_8c_a03535d979603bfbbf85a5fe5c4e1a176}{start\_char}} \&\& \mbox{\hyperlink{main_8c_ad4bfbcc44cc22bb72cbfd271bb4f4fd8}{char\_counter}} == 1)}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00867}00867         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00868}00868 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00869}00869             \textcolor{comment}{//§ UART\_send(message[13]); //send communication receive status}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00870}00870             USART\_SendData(USART1, \mbox{\hyperlink{main_8c_a26089ca36471af8e06dab2ef71bdd1bc}{message}}[13]);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00871}00871             \mbox{\hyperlink{main_8c_a3264ca17406556a54abe56667f2c8611}{receiving}} = \textcolor{keyword}{true};  \textcolor{comment}{// set label that indicates receiving status}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00872}00872             \mbox{\hyperlink{main_8c_aa9fcd7a55fe9ac0028180822cbaceced}{com\_error}} = \textcolor{keyword}{false}; \textcolor{comment}{// reset COM error, due to received start char}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00873}00873         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00874}00874         \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00875}00875         \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00876}00876             \mbox{\hyperlink{uart_8h_a63c52296e7422b4878bfdfa080ea4abb}{UART\_COM\_error}}(); \textcolor{comment}{// send failure message}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00877}00877         \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00878}00878     \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00879}00879 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00880}00880     \textcolor{comment}{//§ IFS1bits.U2RXIF = 0; //Clear U2RX Interrupt flag}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00881}00881     USART\_ReceiveData(USART1);}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00882}00882 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00883}00883 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00884}00884 \textcolor{comment}{//\#\# UART Transmit Interrupt}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00885}00885 \textcolor{comment}{/* Probablement pas nécessaire de hadle ça manuellement car surement gérer par la stm32}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00886}00886 \textcolor{comment}{void \_\_attribute\_\_((\_\_interrupt\_\_, no\_auto\_psv)) \_U2TXInterrupt(void) \{}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00887}00887 \textcolor{comment}{    IFS1bits.U2TXIF = 0;}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00888}00888 \textcolor{comment}{\}}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00889}00889 \textcolor{comment}{*/}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00890}00890 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00891}00891 \textcolor{comment}{//\#\# Default Interrupt}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00892}00892 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00893}00893 \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8c_a64653c452ab199760e9cdd6bdbbeeb76}{\_\_attribute\_\_}}((\_\_interrupt\_\_, no\_auto\_psv)) \_DefaultInterrupt(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00894}00894 \{}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00895}00895     \textcolor{keywordflow}{while} (1)}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00896}00896         ;}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00897}00897 \}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00898}00898 }
\DoxyCodeLine{\Hypertarget{main_8c_source_l00899}00899 \textcolor{comment}{/*****************************************************************************/}}
\DoxyCodeLine{\Hypertarget{main_8c_source_l00900}00900 \textcolor{comment}{/*****************************************************************************/}}

\end{DoxyCode}
